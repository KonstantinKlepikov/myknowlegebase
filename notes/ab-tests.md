# ab-tests

OEC (общий критерий оценки) - количесивенный показатель цели эксперимента (реакция, зависимая переменная. результат. оценка или функция пригодности. Если целей несколько - применяется сбалансированная система показателей.)

Параметр - контроллируемая экспериментальная переменная, которая, как ожидается, влияет на OEC и другие показатели. Иногда называют фактоармси или переменными. Параметрам часто присваивают значения, называемые уровнями. В простом аб-тесте обычно используют один параметр с двумя уровнями, в онлайн-экспериментах обычно используется несколько уровней. Мультивариантные тесты оценивают несколько параметров совместно.

Вариант - тестируемый пользовательский опыт, обычно путем присвоения значений параметрам. В простом аб-тесте варианты А и Б - это два варианта, контрольный и тестовый. Иногда под вариантом понимают только тестовый вариант.

Рандомизатор - псевдослучайный процесс, применяемый к объектам эксперимента для сопоставления их с вариантами.

**Три основных постулата для организаций, которые хотят проводить контроллируемые онлайн-эксперименты**:

1. Организация хочет принимать решения на основе данных и официально оформила OEC
2. Организация готова инвестировать в инфраструктуру и тесты, чтобы проводить эксперименты и гарантировать достоверность
3. Организация признает, что плохо умеет оценивать значимость целей

Статистическая мощность (statistical power) - вероятность обнаружения значимого различия между вариантами, когда эта разница действительно есть. Каждый эксперимент должен обладать достаточной стат.мощностью, чтобы с высокой вероятностью сделать вывод о том, привел ли эксперимент к более значимым изменеениям, чем предполагалось. Чем больше выборка, тем больше мощность. Обычно эксперимент планируется при мощности 80-90%...

Для разработки эксперимента надо определить следующие вещи:

- единицу рандомизации
- популяцию единиц рандомизации
- размер (по охвату) эксперимента
- длительность эксперимента
- насколько безопасен эксперимент
- надо-ли разделять трафик с другими экспериментами

На длительность экспермента влияют:

- рост числа пользователей
- эффект недели/времени дня
- сезонность
- эффект новизны и первичности

Для проведения эксперимента требуется:

- инструмент записи и получения данных журналов
- инфраструктура для организации тестов (конфигуратор тестов, назначение вариантов и т.д.)

Для внедрения результатов необходимо найти компромисс между ценой внедрения и ценностью. Необходимо учитывать стоимость обслуживания после внедрения улучшений. Модель внедрения такая:

1. результат не является стат.значимым и практически не важен - можно повторить эту идею в тесте или отказаться от нее
2. результат статистически и практически значим - запускать
3. результат значим статистически, но не практически. Необходима оценка стоимости и других факторов запуска.
4. доверительные интерфвалы выходят за рамки практической значимости, статистическая значимость незначительна - недостаточно данных или стат.мощности эксперимента.
5. результат значим практически, но не статистически. Нужен повторный тест.
6. результат статистически значим и. вероятно, значим практически - повторить тест.

**Закон Тваймана** - любая статистика, которая выглядит интересно, почти наверняка неверна. Причины:

- нехватка стат.мощности
- неверная интерпретация p-значений
- отслеживание p-значений
- множественные проверки одной гипотезы (использование разных методов для получения ожидаемого результата)

Доверительный интервал - количественно определенная степень неопределенности эффекта от измерения. Уровень доверия показывает как часто интервал должен содержать истинный эффект от воздействия.

Внутренняя достоверность - относится к правильности экспериментальных результатов, которые не обобщают на другие популяции или периоды времени. Угрозы:

1. нарушение правила SUTVA (допущение о стабильном влиянии на экспериментальный объект) - предполагается, что объекты эксперимента не влияют друг на друга
2. ошибка выжившего - оценка тех, кто дожил до конца эксперимента
3. вынужденное воздействие - неслучай   ное распределение вариантов
4. несоответствие коэффициента выборки (соотношение объектов между вариантами значительно отличается от задуманного). Это может быть обусловлено редиректами. ботами, различиями в производительности серверов и т.д.

Внешняя достоверность отображает степень, в которой результаты контроллируемого эксперимента могут быть обобщены на другие выборки и с течением времени. Угрозы:

1. эффект первичности - пользователям может потребоваться время для адаптации к изменеениям
2. эффект новизны - непродолжительный ээффект, вызванный интересом пользователей к измененеиям

**Парадокс Симпсона** - если мы проводим эксперимент с накоплением, т.е. имеем два или более периода с разными процентными долями распределения вариантов, объединение результатов может привести к смещенной неверной оценке эффектов воздействия, т.е. тест может быть лучше, чем контроль как в первой. так и во второй фазе, но в целом хуже, когда два периода объединены. Возможна и инверсия парадокса.
