---
description: Перемешивание строк и добавление пустых строк в pandas
category: post
---
# Как случайно перемешать строки или добавить пустую строку в [[pandas]]

## Как перемешать строки в [[pandas]] DataFrame

[pandas.DataFrame.sample](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.sample.html). Что-то типа такого:

```python
df = df.sample(frac=1).reset_index(drop=True)
```

Другой вариант [shuffle](https://scikit-learn.org/stable/modules/generated/sklearn.utils.shuffle.html)

```python
from sklearn.utils import shuffle
df = shuffle(df)
```

Всякие другие варианты [смотри тут](https://stackoverflow.com/questions/29576430/shuffle-dataframe-rows)

## Как добавить пустую строку к DataFrame в [[pandas]]

```python
df.append(pandas.Series(), ignore_index=True)
```

[еще варианты](https://stackoverflow.com/questions/39998262/append-an-empty-row-in-dataframe-using-pandas)

Если нужно добавить в начало, то можно так:

```python
df1 = pd.DataFrame([[np.nan] * len(df.columns)], columns=df.columns)
df = df1.append(df, ignore_index=True)
```

или [вот интересный вариант](https://stackoverflow.com/a/51136688/15966204):

```python
df
   A  B  C  D  E
0  1  2  3  4  5
1  4  5  6  7  8

df.loc[len(df)] = 0

df
   A  B  C  D  E
0  1  2  3  4  5
1  4  5  6  7  8
2  0  0  0  0  0

df = df.shift()

df.loc[0] = 0

df
     A    B    C    D    E
0  0.0  0.0  0.0  0.0  0.0
1  1.0  2.0  3.0  4.0  5.0
2  4.0  5.0  6.0  7.0  8.0
```

- [[pandas]]
- [[numpy]]

Смотри еще:

- [[pandas-rolling-window]]
- [[2021-12-26-daily-note]] найти разницу между датафреймами, измененеие порядка колонок
- [[2022-01-04-daily-note]] ошибка If using all scalar values, you must pass an index, конвертация датафрейма в датафрейм в одну строку и о том как хранить и извлекать списки в датафрейме

[//begin]: # "Autogenerated link references for markdown compatibility"
[pandas]: ../notes/pandas "Pandas"
[pandas]: ../notes/pandas "Pandas"
[pandas]: ../notes/pandas "Pandas"
[pandas]: ../notes/pandas "Pandas"
[numpy]: ../notes/numpy "Numpy"
[pandas-rolling-window]: ../notes/pandas-rolling-window "Pandas rolling window - скользящие средние в pandas"
[2021-12-26-daily-note]: 2021-12-26-daily-note "Немного трюков с python: работа с csv, парсинг html и другое"
[2022-01-04-daily-note]: 2022-01-04-daily-note "Proxy в selenium, запуск локального smtp и несколько вопросов про pandas"
[//end]: # "Autogenerated link references"