<!DOCTYPE html>
<html lang="ru_RU">

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Poetrypoet | My knowledge base</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Poetrypoet" />
<meta property="og:locale" content="ru_RU" />
<meta name="description" content="Таскранер для poetry" />
<meta property="og:description" content="Таскранер для poetry" />
<link rel="canonical" href="https://konstantinklepikov.github.io/myknowlegebase/notes/poetrypoet.html" />
<meta property="og:url" content="https://konstantinklepikov.github.io/myknowlegebase/notes/poetrypoet.html" />
<meta property="og:site_name" content="My knowledge base" />
<script type="application/ld+json">
{"description":"Таскранер для poetry","@type":"WebPage","url":"https://konstantinklepikov.github.io/myknowlegebase/notes/poetrypoet.html","headline":"Poetrypoet","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="keywords" content="">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    
    
    <link rel="stylesheet" href="https://konstantinklepikov.github.io/myknowlegebase/assets/style.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->


      <!-- Yandex.Metrika counter -->
  <script type="text/javascript" >
    (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
    m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
    (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

    ym(53548570, "init", {
        clickmap:true,
        trackLinks:true,
        accurateTrackBounce:true
    });
  </script>
  <noscript><div><img src="https://mc.yandex.ru/watch/53548570" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
    <!-- /Yandex.Metrika counter -->
      <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-139620627-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-139620627-1');
  </script>


<!-- Favicon -->
<link rel="icon" href="https://konstantinklepikov.github.io/myknowlegebase/assets/img/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="https://konstantinklepikov.github.io/myknowlegebase/assets/img/favicon.ico" type="image/x-icon">

<!-- Math support -->
<!-- Mathjax Support -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- tags collection-->

    







<!-- end custom head snippets -->

</head>

  <body>

    <header class="border-bottom-thick px-2 clearfix">
    <div class="left sm-width-full py-1 mt-1 mt-lg-0">
      <a class="align-middle link-primary text-accent" href="https://konstantinklepikov.github.io/">
        My deep learning
      </a>
    </div>
    <div class="right sm-width-full">
      <ul class="list-reset mt-lg-1 mb-2 mb-lg-1">
        <li class="inline-block">
          <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/">
            My knowledge base
          </a>
        </li>
      </ul>
    </div>
  </header>

    <main role="main">

      
<article class="container mx-auto px-2 mt2 mb4">
  <header>
    <h1 class="h1 col-9 sm-width-full py-4 mt-3 inline-block" itemprop="name headline">Poetrypoet</h1>
  </header>
  <div class="col-4 sm-width-full border-top-thin">
    <p class="mb-3 h5">Теги:
      
        
        <a href="/myknowlegebase/tag/cli" title="cli" class="link-tags">cli&nbsp;</a>
      
        
        <a href="/myknowlegebase/tag/pip" title="pip" class="link-tags">pip&nbsp;</a>
      
        
        <a href="/myknowlegebase/tag/python" title="python" class="link-tags">python&nbsp;</a>
      
    </p>
  </div>
  <div>
    <script type="text/javascript"> function googleTranslateElementInit() { new google.translate.TranslateElement({pageLanguage: 'ru'}, 'google_translate_element'); } </script> <script type="text/javascript" src="//[translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
  </div>
  <div class="prose mb-4 py-4">
    <h2 id="features">Features</h2>

<ul>
  <li>Прямое объявление задач проекта в вашем <code class="language-plaintext highlighter-rouge">pyproject.toml</code> (что-то вроде сценариев npm)</li>
  <li>Задача запускается в виртуальной среде poetry (или в другой указанной вами среде)</li>
  <li>Имена задач в shell (а также глобальные параметры для zsh)</li>
  <li>Может использоваться отдельно или как плагин</li>
  <li>Задачи могут быть командами (с оболочкой или без нее) или ссылками на функции Python (например, tool.poetry.scripts)</li>
  <li>Короткие  команды с дополнительными аргументами, переданными в пакет задач [options] task [task_args], или вы можете явно определить аргументы</li>
  <li>Задачи могут указывать и ссылаться на переменные среды, как если бы они были запущены в командной облочке</li>
  <li>Задачи самодокументируются, с необязательными справочными сообщениями (просто запустите poe без аргументов)</li>
  <li>Задачи могут быть определены как последовательность других задач</li>
  <li>Работает с файлами .env</li>
  <li>Можно использовать автокомплишен по <code class="language-plaintext highlighter-rouge">tab</code> для bash, zsh, fish</li>
</ul>

<h2 id="how-to-use">How to use</h2>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">test   = "pytest --cov=poethepoet"</span>                                <span class="c1"># simple command based task</span>
<span class="s">serve  = { script = "my_app.service:run(debug=True)" }</span>            <span class="c1"># python script based task</span>
<span class="s">tunnel = { shell = "ssh -N -L 0.0.0.0:8080:$PROD:8080 $PROD &amp;" }</span>  <span class="c1"># (posix) shell based task</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">poe test</code> просто запустить или добавить дополнительные аргументы <code class="language-plaintext highlighter-rouge">poe test -v tests/favorite_test.py</code> -&gt; <code class="language-plaintext highlighter-rouge">pytest --cov=poethepoet -v tests/favorite_test.py</code></p>

<h2 id="типы-тасков">Типы тасков</h2>

<h3 id="command-task">Command task</h3>

<p>Будет содержать одну команду, которая будет выполняться без оболочки. Это охватывает большинство основных вариантов использования</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">format = "black ."</span>  <span class="c1"># strings are interpreted as commands by default</span>
<span class="s">clean = """</span>
<span class="c1"># Multiline commands including comments work too. Unescaped whitespace is ignored.</span>
<span class="s">rm -rf .coverage</span>
       <span class="s">.mypy_cache</span>
       <span class="s">.pytest_cache</span>
       <span class="s">dist</span>
       <span class="s">./**/__pycache__</span>
<span class="s2">"</span><span class="s">"</span><span class="s2">"</span>
<span class="s">lint</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">{</span><span class="nv"> </span><span class="s">"cmd"</span><span class="pi">:</span> <span class="s2">"</span><span class="s">pylint</span><span class="nv"> </span><span class="s">poethepoet"</span> <span class="err">}</span>  <span class="c1"># Inline tables with a cmd key work too</span>
<span class="s">greet = "echo Hello $USER"</span>  <span class="c1"># Environment variables work, even though there's no shell!</span>
</code></pre></div></div>

<h3 id="script-tasks">Script tasks</h3>

<p>Содержат ссылку на python, вызываемый для импорта и выполнения</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">fetch-assets = { "script" = "my_package.assets:fetch" }</span>
<span class="s">fetch-images = { "script" = "my_package.assets:fetch(only='images', log=environ['LOG_PATH'])" }</span>
</code></pre></div></div>

<p>Подмножество синтаксиса, операторов и глобальных переменных Python может использоваться встроенно для определения аргументов функции с использованием обычного синтаксиса Python, включая environ (из пакета os) для доступа к переменным среды, которые доступны для задачи. Если дополнительные аргументы передаются задаче в командной строке (и аргументы CLI не объявлены), они будут доступны в вызываемой функции python через sys.argv.</p>

<h3 id="shell-task">Shell task</h3>

<p>Аналогичны простым командным задачам, за исключением того, что они выполняются внутри новой оболочки и могут состоять из нескольких отдельных команд, подстановки команд, конвейеров, фоновых процессов и т. д.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">pfwd = { "shell" = "ssh -N -L 0.0.0.0:8080:$STAGING:8080 $STAGING &amp; ssh -N -L 0.0.0.0:5432:$STAGINGDB:5432 $STAGINGDB &amp;" }</span>
<span class="s">pfwdstop = { "shell" = "kill $(pgrep -f "ssh -N -L .*:(8080|5432)")" }</span>
</code></pre></div></div>

<p>По умолчанию poe пытается найти в системе оболочку posix (sh, bash или zsh именно в таком порядке) и использует ее. При работе в Windows это не всегда возможно. Если bash не найден по пути в Windows, то poe будет явно искать Gitbash в обычном месте.</p>

<p>Можно задать другие shell-интерпретаторы через <code class="language-plaintext highlighter-rouge">interpreter = ["posix", "pwsh"]</code></p>

<p>Кроме того, можно можно задать python код как шелл-таск.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">[</span><span class="n">tool</span><span class="p">.</span><span class="n">poe</span><span class="p">.</span><span class="n">tasks</span><span class="p">.</span><span class="n">time</span><span class="p">]</span>
<span class="n">shell</span> <span class="o">=</span> <span class="s">"""
from datetime import datetime

print(datetime.now())
"""</span>
<span class="n">interpreter</span> <span class="o">=</span> <span class="s">"python"</span>
</code></pre></div></div>

<h3 id="composite-task">Composite task</h3>

<p>Определяются как последовательность других задач в виде массива. По умолчанию содержимое массива интерпретируется как ссылки на другие задачи (фактически тип задачи ref), хотя это поведение можно изменить, установив глобальную опцию default_array_item_task_type на имя другого типа задачи, например cmd, или установив default_item_type параметр локально в задаче последовательности.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>

<span class="s">test = "pytest --cov=src"</span>
<span class="s">build = "poetry build"</span>
<span class="s">_publish = "poetry publish"</span>
<span class="s">release = ["test", "build", "_publish"]</span>
</code></pre></div></div>

<p>Префикс <code class="language-plaintext highlighter-rouge">_</code> не включается в документацию и не исполняется непосредственно, а используется для ссылки на другие задачи.</p>

<p>Другой вариант записи:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">release = [</span>
  <span class="s">{ cmd = "pytest --cov=src" },</span>
  <span class="s">{ script = "devtasks:build" },</span>
  <span class="s">{ ref = "_publish" },</span>
<span class="err">]</span>
</code></pre></div></div>

<p>Еще</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>

  <span class="pi">[[</span><span class="nv">tool.poe.tasks.release</span><span class="pi">]]</span>
  <span class="s">cmd = "pytest --cov=src"</span>

  <span class="s">[[tool.poe.tasks.release]]</span>
  <span class="s">script = "devtasks:build"</span>

  <span class="s">[[tool.poe.tasks.release]]</span>
  <span class="s">ref = "_publish"</span>
</code></pre></div></div>

<h2 id="task-level-configuration">Task level configuration</h2>

<p>Можно задавать текст подсказок</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">style = {cmd = "black . --check --diff", help = "Check code style"}</span>
</code></pre></div></div>

<p>Переменные окружения</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">serve.script = "myapp:run"</span>
<span class="s">serve.env = { PORT = "9001" }</span>
</code></pre></div></div>

<p>Можно использовать <code class="language-plaintext highlighter-rouge">.env</code> файлы</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">serve.script  = "myapp:run"</span>
<span class="s">serve.envfile = ".env"</span>
</code></pre></div></div>

<p>Также можно ссылаться на существующие переменные окружения при определении новой переменной окружения для задачи.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks.serve</span><span class="pi">]</span>
<span class="s">serve.cmd = "flask run"</span>
<span class="s">serve.env   = { FLASK_RUN_PORT = "${TF_VAR_service_port}" }</span>
</code></pre></div></div>

<h2 id="declaring-cli-arguments">Declaring CLI arguments</h2>

<p>По умолчанию дополнительные аргументы, передаваемые в интерфейс командной строки poe после имени задачи, добавляются в конец задачи <code class="language-plaintext highlighter-rouge">cmd</code> или отображаются как <code class="language-plaintext highlighter-rouge">sys.argv</code> в задаче сценария (но вызовут ошибку для задач оболочки или последовательности задач). В качестве альтернативы можно определить именованные аргументы, которые должна принимать задача, которые будут задокументированы в справке для этой задачи и представлены в задаче таким образом, который наиболее целесообразен для этого типа задачи.</p>

<ul>
  <li>positional arguments which are provided directly following the name of the task like <code class="language-plaintext highlighter-rouge">poe task-name &lt;arg-value&gt;</code></li>
  <li>option arguments which are provided like <code class="language-plaintext highlighter-rouge">poe task-name --option-name &lt;arg-value&gt;</code></li>
  <li>flags which are either provided or not, but don’t accept a value like <code class="language-plaintext highlighter-rouge">poe task-name --flag</code></li>
</ul>

<p>Именованные аргументы настраиваются путем объявления параметра задачи args как массива или подтаблицы.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks.serve</span><span class="pi">]</span>
<span class="s">cmd = "myapp:run"</span>
<span class="s">args = ["host", "port"]</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">poe serve --host 0.0.0.0 --port 8001</code></p>

<p>Элементы в массиве также могут быть встроенными таблицами, чтобы обеспечить дефолтные значения</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks.serve</span><span class="pi">]</span>
<span class="s">cmd = "myapp:run"</span>
<span class="s">args = [{ name = "host", default = "localhost" }, { name = "port", default = "9000" }]</span>
</code></pre></div></div>

<p>Можно использовать <code class="language-plaintext highlighter-rouge">toml</code> синтаксис</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks.serve</span><span class="pi">]</span>
<span class="s">cmd = "myapp:run"</span>
<span class="s">help = "Run the application server"</span>

  <span class="s">[[tool.poe.tasks.serve.args]]</span>
  <span class="s">name = "host"</span>
  <span class="s">options = ["-h", "--host"]</span>
  <span class="s">help = "The host on which to expose the service"</span>
  <span class="s">default = "localhost"</span>

  <span class="s">[[tool.poe.tasks.serve.args]]</span>
  <span class="s">name = "port"</span>
  <span class="s">options = ["-p", "--port"]</span>
  <span class="s">help = "The port on which to expose the service"</span>
  <span class="s">default = "8000"</span>
</code></pre></div></div>

<p>или так</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks.serve</span><span class="pi">]</span>
<span class="s">cmd = "myapp:run"</span>
<span class="s">help = "Run the application server"</span>

  <span class="s">[tool.poe.tasks.serve.args.host]</span>
  <span class="s">options = ["-h", "--host"]</span>
  <span class="s">help = "The host on which to expose the service"</span>
  <span class="s">default = "localhost"</span>

  <span class="s">[tool.poe.tasks.serve.args.port]</span>
  <span class="s">options = ["-p", "--port"]</span>
  <span class="s">help = "The port on which to expose the service"</span>
  <span class="s">default = "8000"</span>
</code></pre></div></div>

<p><strong>Task args options:</strong></p>

<ul>
  <li>default : Union[str, int, float, bool]</li>
  <li>help : str</li>
  <li>name : str</li>
  <li>options : List[str]</li>
  <li>positional : bool</li>
  <li>required : bool</li>
  <li>type : str</li>
</ul>

<p>Для задач cmd и оболочки значения предоставляются задаче как переменные среды</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks.passby</span><span class="pi">]</span>
<span class="s">shell = """</span>
<span class="s">echo "hello $planet";</span>
<span class="s">echo "goodbye $planet";</span>
<span class="s2">"</span><span class="s">"</span><span class="s2">"</span>
<span class="s">help</span><span class="nv"> </span><span class="s">=</span><span class="nv"> </span><span class="s">"Pass by a planet!"</span>

  <span class="s">[[tool.poe.tasks.passby.args]]</span>
  <span class="s">name = "planet"</span>
  <span class="s">help = "Name of the planet to pass"</span>
  <span class="s">default = "earth"</span>
  <span class="s">options = ["-p", "--planet"]</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">poe passby --planet mars</code></p>

<p>Аргументы могут быть определены для задач сценария таким же образом, но то, как они отображаются для базовой функции Python, зависит от того, как определен сценарий.</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">build = { script = "project.util:build", args = ["dest", "version"] }</span>
</code></pre></div></div>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">build = { script = "project.util:build(dest, build_version=version, verbose=True)", args = ["dest", "version"]</span>
</code></pre></div></div>

<p>Аргументы могут быть переданы задачам, на которые ссылается задача последовательности</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.tasks</span><span class="pi">]</span>
<span class="s">build = { script = "util:build_app", args = [{ name = "target", positional = </span><span class="no">true</span><span class="s"> }] }</span>

<span class="pi">[</span><span class="nv">tool.poe.tasks.check</span><span class="pi">]</span>
<span class="s">sequence = ["build ${target}", { script = "util:run_tests(environ['target'])" }]</span>
<span class="s">args = ["target"]</span>
</code></pre></div></div>

<h2 id="project-wide-configuration-options">Project-wide configuration options</h2>

<h3 id="global-environment-variables">Global environment variables</h3>

<p>В <code class="language-plaintext highlighter-rouge">tool.poe.env</code></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.env</span><span class="pi">]</span>
<span class="s">VAR1 = "FOO"</span>
<span class="s">VAR2 = "BAR BAR BLACK ${FARM_ANIMAL}"</span>
</code></pre></div></div>

<p>Можно задать дефолт, если переменная не указана</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># .env</span>
<span class="s">STAGE=dev</span>
<span class="s">PASSWORD='!@#$%^&amp;*('</span>

<span class="pi">[</span><span class="nv">tool.poe.env</span><span class="pi">]</span>
<span class="s">VAR1.default = "FOO"</span>
</code></pre></div></div>

<p>Можно использовать <code class="language-plaintext highlighter-rouge">.env</code></p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe</span><span class="pi">]</span>
<span class="s">envfile = ".env"</span>
</code></pre></div></div>

<h3 id="default-command-verbosity"><a href="https://github.com/nat-n/poethepoet#default-command-verbosity">Default command verbosity</a></h3>

<h3 id="run-poe-from-anywhere"><a href="https://github.com/nat-n/poethepoet#run-poe-from-anywhere">Run poe from anywhere</a></h3>

<h3 id="change-the-default-task-type"><a href="https://github.com/nat-n/poethepoet#change-the-default-task-type">Change the default task type</a></h3>

<h3 id="change-the-executor-type"><a href="https://github.com/nat-n/poethepoet#change-the-executor-type">Change the executor type</a></h3>

<ul>
  <li>auto: to automatically use the most appropriate of the following executors in order</li>
  <li>poetry: to run tasks in the poetry managed environment</li>
  <li>virtualenv: to run tasks in the indicated virtualenv (or else “./.venv” if present)</li>
  <li>simple: to run tasks without doing any specific environment setup</li>
</ul>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="pi">[</span><span class="nv">tool.poe.executor</span><span class="pi">]</span>
<span class="s">type = "virtualenv"</span>
<span class="s">location = "myvenv"</span>
</code></pre></div></div>

<h3 id="change-the-default-shell-interpreter"><a href="https://github.com/nat-n/poethepoet#change-the-default-shell-interpreter">Change the default shell interpreter</a></h3>

<h2 id="load-tasks-from-another-file"><a href="https://github.com/nat-n/poethepoet#load-tasks-from-another-file">Load tasks from another file</a></h2>

<p>В некоторых сценариях может потребоваться определить задачи вне pyproject.toml. Например, если вы хотите распределять задачи между проектами через модули git, динамически генерировать определения задач или просто иметь много задач и не хотите, чтобы pyproject.toml стал слишком большим. Этого можно достичь, создав файл toml или json в структуре каталогов вашего проекта, включая ту же структуру для задач, которая используется в pyproject.toml.</p>

<p>Еще:</p>

<ul>
  <li>Usage as a poetry plugin</li>
  <li>Usage without poetry</li>
</ul>

<p>Еще ссылки:</p>

<ul>
  <li><a href="https://github.com/nat-n/poethepoet">документация</a></li>
  <li>[<a href="poetry" title="Poetry">poetry</a>]</li>
  <li>[<a href="argparsing" title="Arguments parsing in python">argparsing</a>]</li>
  <li>[<a href="click" title="Click интерфейс командной строки">click</a>]</li>
  <li>[<a href="../tag/cli" title="Tag: cli">cli</a>]</li>
</ul>


  </div>
</article>


    </main>

    <footer role="banner">
<div class="border-top-thin clearfix mt-2 mt-lg-4">
    <div class="container mx-auto px-2">
      <p class="col-8 sm-width-full left py-2 mb-0"><a href="/myknowlegebase/">My knowledge base</a> проект поддерживается <a class="text-accent" href="https://github.com/KonstantinKlepikov">KonstantinKlepikov</a></p>
      <ul class="list-reset right clearfix sm-width-full py-2 mb-2 mb-lg-0">
        <li class="inline-block mr-1">
          <a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="My knowledge base">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </li>
      </ul>
    </div>
  </div>
</footer>

  </body>

</html>

<script type="text/javascript">
  // Hack: Replace page-link with "Page Title"
  document.querySelectorAll(".markdown-body a[title]").forEach((a) => {
    a.innerText = a.title;
  });
  // Hack: Remove .md extension from wikilinks to get the html in jekyll
  document.querySelectorAll("a").forEach(l => {
    if (l.href.endsWith('.md')) {
      l.href = l.href.substring(0, l.href.length-3)
    }
  })
</script>