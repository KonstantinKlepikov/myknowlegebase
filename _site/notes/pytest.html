<!DOCTYPE html>
<html lang="ru-RU">

<html>

  <head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Pytest | My knowledge base</title>
<meta name="generator" content="Jekyll v3.8.7" />
<meta property="og:title" content="Pytest" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Тестирование с использованием pytest на python" />
<meta property="og:description" content="Тестирование с использованием pytest на python" />
<link rel="canonical" href="http://localhost:4000/myknowlegebase/notes/pytest.html" />
<meta property="og:url" content="http://localhost:4000/myknowlegebase/notes/pytest.html" />
<meta property="og:site_name" content="My knowledge base" />
<script type="application/ld+json">
{"@type":"WebPage","url":"http://localhost:4000/myknowlegebase/notes/pytest.html","description":"Тестирование с использованием pytest на python","headline":"Pytest","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <meta name="keywords" content="">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">

    
    
    <link rel="stylesheet" href="http://localhost:4000/myknowlegebase/assets/style.css">
    <script async defer src="https://buttons.github.io/buttons.js"></script>

    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->



<!-- Favicon -->
<link rel="icon" href="/myknowlegebase/assets/img/favicon.ico" type="image/x-icon">
<link rel="shortcut icon" href="/myknowlegebase/assets/img/favicon.ico" type="image/x-icon">

<!-- Math support -->
<!-- Mathjax Support -->
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-MML-AM_CHTML' async></script>

<!-- end custom head snippets -->

</head>

  <body>

    <!-- <header role="banner">
    <div class="container">
        <h1 id="a-title"><a href="/myknowlegebase/">My knowledge base</a></h1>
        <h2 class="project-tagline">Мои заметки о программировании, data science и алгоритмах, собранные в процессе обучения</h2>
        <p>Тут собраны заметки по программированию, машинному обучению и алгоритмам, которые автор <a href=""></a> делал и продолжает делать в процессе обучения. Тысяча извинений за сумбурность записей, орфографию и изрядную долю копипасты. По сути это конспект. Более толковые статьи можно почитать в блоге <a href="https://konstantinklepikov.github.io/">my deep learning</a></p>
    </div>
</header> -->

<header class="border-bottom-thick px-2 clearfix">
    <div class="left sm-width-full py-1 mt-1 mt-lg-0">
      <a class="align-middle link-primary text-accent" href="/myknowlegebase/">
        My knowledge base
      </a>
    </div>
    <div class="right sm-width-full">
      <ul class="list-reset mt-lg-1 mb-2 mb-lg-1">
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-04-02-daily-note.html">
              Про работу behave и unittest и немного про datetime
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-04-06-daily-note.html">
              Github actions - ссылки на различныек ресурсы
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-05-15-daily-note.html">
              Как преобразовать строки в переменные в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-06-04-daily-note.html">
              Как получить текст ошибки в python и немного про pylance в vscode
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-06-10-daily-note.html">
              Немного трюков python - испорты, фокусы со словарями
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-08-27-daily-note.html">
              Как добавить контейнеры на Digital Ocean registry с помощью docker-compose
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-09-07-daily-note.html">
              Как устроен github packages, подводные камни интеграции с digital ocean и другими сервисами
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-09-10-daily-note.html">
              Как получить имя ошибки в python и немного про то, как импортить собственные скрипты на kaggle
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-09-14-daily-note.html">
              Кастомизация персональной страницы на github
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-09-20-daily-note.html">
              Как получить строковые имена переменных в python и несколько трюков с matplotlibe
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-09-26-daily-note.html">
              Про переменные инстанса класса и n-мерные массивы в numpy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-10-03-daily-note.html">
              Python dict concatenate and way to convert dict to namedtuple
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-10-18-daily-note.html">
              Проблемы с fastapi postgresql template
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-11-30-daily-note.html">
              Diff массивов, случайный выбор, конвертация в булев массив и произвольные заполнители в numpy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-12-20-daily-note.html">
              Операторы сравнения, запуск модуля с аругментами и др.тонкости python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-12-21-daily-note.html">
              Formatted string literals specificators
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2021-12-26-daily-note.html">
              Немного трюков с python: работа с csv, парсинг html и другое
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2022-01-04-daily-note.html">
              Proxy в selenium, запуск локального smtp и несколько вопросов про pandas
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2022-01-08-daily-note.html">
              Как случайно перемешать строки или добавить пустую строку в pandas
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2022-02-04-daily-note.html">
              Работа в selenium с firefox
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2022-02-12-daily-note.html">
              Несколько вопросов о реализации пауков в scrapy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2022-03-18-daily-note.html">
              Работа с alembic и БД в docker, вопросы с poetry, linux и общие вопросы про python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/posts/2022-04-26-daily-note.html">
              git remote stop tracking and replace comma to dot by re
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/ab-tests.html">
              Ab-tests
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/abc.html">
              Abc
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/alembic.html">
              Alembic
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/allposts/">
              Все посты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/apache-banchmark.html">
              Apache-banchmark
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/archives-in-python.html">
              Архивация в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/argparsing.html">
              Arguments parsing in python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/arima-alghoritm.html">
              Arima-alghoritm
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/async-generators-and-iterators.html">
              Async generators and iterators
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/asyncio-transports-and-protocols.html">
              Asyncio transports and protocols
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/asyncio.html">
              Asyncio
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/atexit-and-sched.html">
              Atexit и sched
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/beautifulsoup.html">
              BeautifulSoup
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/behave-config.html">
              Behave config
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/behave-%D1%81%D1%82%D1%80%D1%83%D0%BA%D1%82%D1%83%D1%80%D0%B0.html">
              Behave структура
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/behave.html">
              Behave
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/bisect.html">
              Bisect - сортирвоанные списки
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/calendar.html">
              Calendar
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/calling-finction-by-name-python.html">
              Вызов функции по ее строковому имени в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/celery.html">
              Celery
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/cgitb.html">
              Cgitb
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/chainmap.html">
              ChainMap
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/cl.html">
              Ci - непрервыная интеграция
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/click.html">
              Click интерфейс командной строки
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/column-and-data-type.html">
              Column and data type
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/computer-visions.html">
              Computer visions
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/contextvars.html">
              Contextvars
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/convert-dcit-to-dataclass.html">
              Convert dict to dataclass or namedtuple
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/counter.html">
              Counter - счетчик хешируемых объектов
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/crawlers.html">
              Crawlers
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/creation-of-list-matrix.html">
              Creation of list matrix
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/css-selectors.html">
              Css-selectors
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/cucumber.html">
              Cucumber
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/data-storage-python.html">
              Pickle, shelve, dbm
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/databases.html">
              Databases
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/date-and-time-in-python.html">
              Date and time in python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/datetime.html">
              Datetime
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/dateutil.html">
              Dateutil
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/deap-checkpoints.html">
              Deap чекпоинты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/deap-docs.html">
              Deap документация
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/deap-history.html">
              Deap history
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/deap-multicor-usage.html">
              Multiproces for deap
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/deap.html">
              Deap - генетические алгоритмы на python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/defaultdict.html">
              Defaultdict словарь с возвратом значения по умолчанию
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/deque.html">
              Deque - двухсторонние очереди
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/devtools.html">
              Python devtools
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/digital-ocean-container-registry.html">
              Digital ocean container registry
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/digital-ocean-databases.html">
              Digital ocean databases
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/digital-ocean-dns-management.html">
              Digital ocean dns management
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/digital-ocean-docker-install.html">
              Digital ocean docker install
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/digital-ocean-doctl.html">
              Digital ocean doctl
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/digital-ocean-ssh.html">
              Digital ocean SSH
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/digital-ocean.html">
              Digital ocean
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/dis.html">
              Dis
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-bind-mound.html">
              Docker bind mount
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-compose-with-gcloud-authentication.html">
              Docker compose with gcloud authentication
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-compose.html">
              Docker compose
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-networks.html">
              Docker networks
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-shutdown-services.html">
              Docker shutdown services
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-swarm-restart-containeers.html">
              Docker-swarm restart services
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-swarm-rocks.html">
              Docker swarm rocks
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-swarm.html">
              Docker swarm
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/docker-tags.html">
              Теги в docker
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/docker.html">
              Docker
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/dockerfile-learn.html">
              Dockerfile
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/doctest.html">
              Doctest
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/dot-env.html">
              Dot-env
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/email-tools-python.html">
              Email tools in python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/enumerate.html">
              Enum
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/env-for-test.html">
              Env variables for tests
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/evolution-for-neural-networks.html">
              Evolution for neural networks
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fabric.html">
              Fabric
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/faker.html">
              Faker - пакет для создания фейковых данных для тестов
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-change-error-meaasage.html">
              Fastapi change error measage
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-mail.html">
              Fastapi mail
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-metadata-and-docs-urls.html">
              Fastapi Metadata and Docs URLs
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-middleware.html">
              Fastapi middleware
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-requests-errors.html">
              Fastapi requests errors
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-setting-environment-variables.html">
              Fastapi environment variables
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-setup-teardown.html">
              Fastapi setup teardown
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-template-backend.html">
              Fastapi template backend
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-template-buildin-routes.html">
              Fastapi template buildin routes
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-template-deployment.html">
              Fastapi template deployment
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-template-flowers-problem.html">
              Fastapi template flower problem
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-template-vue-frontend.html">
              Fastapi frontend development
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-testing-dependencies-with-override.html">
              Fastapi testing dependencies with owerride
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-%D0%B7%D0%B0%D0%B2%D0%B8%D1%81%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D0%B8-%D1%81-yield.html">
              Fastapi зависимости с yield
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi-%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5-%D0%B1%D0%B0%D0%B7%D1%8B-%D0%B4%D0%B0%D0%BD%D0%BD%D1%8B%D1%85.html">
              Fastapi тестирование базы данных
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fastapi.html">
              Fastapi
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/fatsapi-sql-orm-example.html">
              Fatsapi sql orm example
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/feedparser.html">
              Feedparser - rss и atom парсинг
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/flake8.html">
              Flake8
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/flaky-tests.html">
              Flaky tests
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/flower.html">
              Flower
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/from-future-import-annotations.html">
              From future import annotations
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/full-path-to-current-directory.html">
              Full path to current directory
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/functools.html">
              Functools
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/get-not_support_body.html">
              GET not support body
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/get-started-with-vscode.html">
              Getting started with VsCode
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/gherkin.html">
              Gherkin
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/gino.html">
              Gino
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/git-remove-remote.html">
              How to remove remote origin from a Git repository
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/git-rm.html">
              git-rm
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/git.html">
              Git
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-action-how-start-workflow-action-after-another-action.html">
              How start second github action after success first
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-action-resources.html">
              Github actions resources
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-action-%D1%82%D1%80%D0%B8%D0%B3%D0%B3%D0%B5%D1%80%D1%8B-%D0%B8-%D0%BF%D0%B5%D1%80%D0%B5%D0%BC%D0%B5%D0%BD%D0%BD%D1%8B%D0%B5.html">
              Github action триггеры и переменные - документация и полезные ссылки
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-action.html">
              Githunb action
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-actions-links.html">
              Ссылка на версию экшена
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-authentication-failed.html">
              Github Authentication Failed
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-authentication.html">
              Github authentication
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-branch-protection.html">
              Githunb branch protection
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-creating-deleting.html">
              Githunb creating and deleting of branches
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-environment-variables.html">
              Github environment variables
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-packages.html">
              Github packages
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/github-secrets.html">
              Github secrets
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/gittags.html">
              Организация тегов на git
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/graph-visualization.html">
              Graph-visualization
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/graphite.html">
              Graphite
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/graphql.html">
              GraphQL
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/graphs.html">
              Machine learning with graphs
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/gunicorn.html">
              Gunicorn
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/heapq.html">
              Heapq - двоичная куча
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/heroku-ci.html">
              Heroku-CI
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/heroku-cli.html">
              Heroku-cli
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/heroku-piplines.html">
              Heroku-piplines
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/heroku-release-phase.html">
              Heroku-release-phase
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/heroku-review.html">
              Heroku-review
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/heroku-variables-config.html">
              Heroku-variables-config
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/heroku.html">
              Heroku
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/honcho.html">
              Honcho
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/how-to-set-nonstring-env-variables.html">
              How set nonstring env variables
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/http-cors.html">
              Http cors
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/http-methods.html">
              Http methods
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/http-requests-errors.html">
              Http requests
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/http-%D0%B7%D0%B0%D0%B3%D0%BE%D0%BB%D0%BE%D0%B2%D0%BA%D0%B8.html">
              Http заголовки
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/http.html">
              Http
            </a>
          </li>
          
        
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/inspect.html">
              Inspect
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/itertools.html">
              Itertools
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/jenkins.html">
              Jenkins
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/jinja2.html">
              Jinja2
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/kubernetes.html">
              Kubernetes
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/lightgbm-parameters-tuning.html">
              Lightgbm parameters tuning
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/lightgbm.html">
              Lightgbm
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/linux-scp.html">
              linux-scp
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/linux-snap.html">
              linux-snap
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/linux.html">
              Linux
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/liquid.html">
              Liquid
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/logging.html">
              Logging - основные принципы
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/loguru.html">
              Loguru
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/machine-learning.html">
              Алгоритмы машинного обучения
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/makefile.html">
              Makefile
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/market-stocks.html">
              Market stocks
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/mathematic-in-python.html">
              Mathematic in python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/matplotlib-size.html">
              Matplotlibe image size
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/matplotlibe.html">
              Matplotlibe
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/mock-libraries.html">
              Либы для создания моков
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/mock.html">
              Mock-тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/molotov.html">
              Molotov
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/more-itertools.html">
              More itertools
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/multiprocess.html">
              Управление процессами в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/mypy.html">
              Mypy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/nano.html">
              Nano
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/neat.html">
              NEAT - нейроэволюционный алгоритм
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/nets-with-python.html">
              Nets and internet with python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/networkx.html">
              Networkx
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/nft.html">
              NFT
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/nginx.html">
              Nginx веб-сервер (wsgi)
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/nose.html">
              Nose
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/numpy.html">
              Numpy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/open-ai-gym.html">
              open-ai-gim
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/openapi-specification.html">
              Open-api v3 спецификация
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/ordereddict.html">
              OrderedDict упорядоченный словарь с опцией сравнения по порядку
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pandas-rolling-window.html">
              Pandas rolling window - скользящие средние в pandas
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pandas.html">
              Pandas
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/parsing-robots-txt-with-scrapy.html">
              Parsing robots txt with scrapy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/parsing-sitemap-with-scrapy.html">
              Parsing sitemap with scrapy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/paste-images-from-clipboard.html">
              Paste Images from Clipboard
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pdb-python-debugger.html">
              Pdb python debugger
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pip-specific-version.html">
              Installing specific package versions with pip
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/playwright.html">
              Playwright
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/poetry.html">
              Poetry
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/postgres.html">
              Postgres
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/profile.html">
              Profile
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/prometeus.html">
              Prometeus
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pydantic-validation-custom.html">
              Pydantic-validation-custom
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pydantic.html">
              Pydantic
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pydoc.html">
              Pydoc
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pypy.html">
              Pypy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pytest-parametrizing.html">
              Pytest parametrizing tests
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pytest.html">
              Pytest
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-buildin-functions.html">
              Python build-in functions
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-complexity.html">
              Python time complexity
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-cryptography.html">
              Криптография в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-dataclasses.html">
              Python dataclasses
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/python-datamodel.html">
              Python datamodel
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-decorator.html">
              Python decorator
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-descriptors.html">
              Python descriptors
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-filesystem.html">
              Работа с файлами
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-glossary.html">
              Python glossary
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-import-tools.html">
              Python import tools
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-interptetator-and-env-utils.html">
              Утилиты взаимодействия с интерпретатором и окружением в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-iterators-example.html">
              Python iterators
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/python-logging.html">
              Python logging
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-namespaces.html">
              Python namespaces
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-patterns.html">
              Python patterns
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-reading-and-writing-files.html">
              Режимы чтения и записи файлов
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-rq.html">
              Python-rq
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-sorting.html">
              Python sorting
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/python-standart-library.html">
              Стандартная библиотека python и полезные ресурсы
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/python-super-guide.html">
              Python super guide
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/pytz.html">
              Pytz
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/queue.html">
              Queue - очереди и стеки
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/rabbitmq.html">
              Rabbitmq
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/random-choice.html">
              Random choice
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/redis.html">
              Redis
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/remove-dict-key-python.html">
              Как удалить ключ словаря в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/requests.html">
              Requests
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/requirements.html">
              Requirements.txt
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/scrapy-rotating-proxy.html">
              Scrapy rotating proxy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/scrapy.html">
              Scrapy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/selenium.html">
              Selenium
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/shell-comans-in-one-line.html">
              Shell comand in one line
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sinonjs.html">
              Sinon.js
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/splash.html">
              Splash
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sql-model.html">
              Sql-model
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sqlalchemy-deleting.html">
              Sqlalchemy deleting
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sqlalchemy-docs.html">
              Sqlalchemy документация
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sqlalchemy-loader-strategy.html">
              Sqlalchemy-loader-strategy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sqlalchemy-querying.html">
              Sqlalchgemy querying
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sqlalchemy-sqlite-problems.html">
              Sqlalchemy-sqlite-problems
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/sqlalchemy.html">
              Sqlalchemy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/sqlite.html">
              Sqlite
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/staging-%D0%BF%D1%80%D0%BE%D0%BC%D0%B5%D0%B6%D1%83%D1%82%D0%BE%D1%87%D0%BD%D0%B0%D1%8F-%D1%81%D1%80%D0%B5%D0%B4%D0%B0.html">
              Промежуточная среда (staging)
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/starlete-%D1%81%D0%BF%D0%B8%D1%81%D0%BE%D0%BA-%D0%BA%D0%BE%D0%B4%D0%BE%D0%B2.html">
              Starlette список кодов
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/starlette-testclient.html">
              Starlette test client
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/starlette.html">
              Starlette
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/statmodels.html">
              Statmodels
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/stock-base-statistics.html">
              Stock basic statistics
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/streamlit.html">
              Streamlit
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/swagger.html">
              Swagger
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/terraform.html">
              terraform
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/threading.html">
              Threading
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/time.html">
              Time
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/timeit.html">
              Timeit
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/toml.html">
              Toml
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/tox.html">
              Tox
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/trace.html">
              Trace
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/traceback.html">
              Traceback
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/traefik.html">
              Traefik
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/try-except.html">
              Try-except-raise
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/type-annotation.html">
              Анотация типов в python
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/typing.html">
              Typing
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/unittest.html">
              Unittest
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/urllibparse.html">
              Urllib.parse - парсинг урлов в компоненты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/use-keyboard-shortcuts-for-editing.html">
              Use Keyboard Shortcuts for Editing
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/uvicorn.html">
              Uvicorn
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/venv.html">
              Venv
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/vscode.html">
              Vscode
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/warnings.html">
              Warnings
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/workflow-types.html">
              Про варианты git workflow
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/xpath.html">
              XPath в scrapy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/yaml.html">
              Yaml
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%B4%D0%B5%D0%BA%D0%BE%D1%80%D0%B0%D1%82%D0%BE%D1%80-wait-%D0%B4%D0%BB%D1%8F-behave.html">
              Декоратор wait для behave
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%B4%D1%8B%D0%BC%D0%BE%D0%B2%D1%8B%D0%B5-%D1%82%D0%B5%D1%81%D1%82%D1%8B.html">
              Дымовые тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA-uvicorn-%D0%BD%D0%B0-%D1%82%D0%B5%D1%81%D1%82%D0%B5.html">
              Fast-api v3 спецификация
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%B8%D0%B7%D0%BE%D0%BB%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%BD%D1%8B%D0%B5-%D1%82%D0%B5%D1%81%D1%82%D1%8B.html">
              Изолированные тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%B8%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D0%BE%D0%BD%D0%BD%D1%8B%D0%B5-%D1%82%D0%B5%D1%81%D1%82%D1%8B.html">
              Интеграционные тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%BA%D0%B0%D0%BA-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D1%82%D1%8C-%D1%81-foam.html">
              Как работать с foam
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%BA%D0%BE%D0%BC%D0%B0%D0%BD%D0%B4%D1%8B-ubuntu.html">
              Команды ubuntu
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%BC%D0%BE%D0%B4%D1%83%D0%BB%D1%8C%D0%BD%D1%8B%D0%B5-%D1%82%D0%B5%D1%81%D1%82%D1%8B.html">
              Модульные тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%BF%D1%80%D0%B8%D0%B5%D0%BC%D0%BE%D1%87%D0%BD%D1%8B%D0%B5-%D1%82%D0%B5%D1%81%D1%82%D1%8B.html">
              Приемочные тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D0%BF%D1%80%D0%B8%D0%BC%D0%B5%D1%80-staging.html">
              Пример промежуточного сервера
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%BD%D0%B0-%D0%BE%D1%81%D0%BD%D0%BE%D0%B2%D0%B5-%D0%BF%D0%BE%D0%B2%D0%B5%D0%B4%D0%B5%D0%BD%D0%B8%D1%8F(BDD).html">
              Разработка на оснвое поведения (BDD)
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%80%D0%B5%D0%B3%D1%80%D0%B5%D1%81%D1%81%D0%B8%D1%8F(%D1%82%D0%B5%D1%81%D1%82%D1%8B).html">
              Регрессионные тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%80%D0%B5%D1%84%D0%B0%D0%BA%D1%82%D0%BE%D1%80%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D1%8F.html">
              Рефакторинг
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%80%D1%83%D0%BA%D0%BE%D0%B2%D0%BE%D0%B4%D1%81%D1%82%D0%B2%D0%BE-%D0%BF%D0%BE-html-%D1%84%D0%BE%D1%80%D0%BC%D0%B0%D0%BC.html">
              Руководство по html формам
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%81%D0%B5%D1%80%D0%B2%D0%B5%D1%80%D1%8B-%D0%BD%D0%B5%D0%BF%D1%80%D0%B5%D1%80%D1%8B%D0%B2%D0%BD%D0%BE%D0%B9-%D0%B8%D0%BD%D1%82%D0%B5%D0%B3%D1%80%D0%B0%D1%86%D0%B8%D0%B8.html">
              Серверы непрерывной интеграции
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%81%D0%B8%D1%81%D1%82%D0%B5%D0%BC%D0%BD%D1%8B%D0%B5-%D1%82%D0%B5%D1%81%D1%82%D1%8B.html">
              Системные тесты
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%81%D0%BA%D0%BE%D0%BB%D1%8C%D0%B7%D1%8F%D1%89%D0%B8%D0%B5-%D1%81%D1%80%D0%B5%D0%B4%D0%BD%D0%B8%D0%B5.html">
              Скользящие средние (moving average)
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%81%D0%BE%D0%BA%D0%B5%D1%82%D1%8B-unix.html">
              Сокеты unix
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%81%D1%82%D0%B8%D0%BB%D0%B8-%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D1%8F.html">
              Стили программирования
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/%D1%82%D0%B5%D1%81%D1%82%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5.html">
              Основные принципы тестровния
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%82%D0%B5%D1%81%D1%82%D1%8B-%D1%81-%D0%B8%D0%BC%D0%B8%D1%82%D0%B0%D1%86%D0%B8%D0%B5%D0%B9.html">
              Тесты с имитацией
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/%D1%84%D0%B8%D0%BA%D1%81%D1%82%D1%83%D1%80%D1%8B.html">
              Фикстуры
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/lists/%D1%88%D0%B0%D0%B1%D0%BB%D0%BE%D0%BD%D0%B8%D0%B7%D0%B0%D1%82%D0%BE%D1%80%D1%8B.html">
              Шаблонизаторы
            </a>
          </li>
          
        
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/clean-docker-restart-instance.html">
              How to do clean docker restsrt instance
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/gil.html">
              Gil
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/oauth2.html">
              OAuth2
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/scipy.html">
              Scipy
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/setuptools.html">
              Setuptools
            </a>
          </li>
          
        
          
          <li class="inline-block">
            <a class="align-middle link-primary mr-2 mr-lg-0 ml-lg-2" href="/myknowlegebase/notes/tensorflow.html">
              Tensorflow
            </a>
          </li>
          
        
          
        
          
        
      </ul>
    </div>
  </header>

    <main role="main">

      <article class="container mx-auto px-2 mt2 mb4">
  <header>
    <h1 class="h0 py-4 mt-3">Pytest</h1>
  </header>
  <div class="col-4 sm-width-full border-top-thin">
  </div>
  <div class="prose mb-4 py-4">
    <h1 id="pytest">Pytest</h1>

<p>Библиотечка для [<a href="модульные-тесты" title="Модульные тесты">модульные-тесты</a>]</p>

<p><a href="https://docs.pytest.org/en/stable/contents.html#toc">Документация</a></p>

<p><a href="https://docs.pytest.org/en/6.2.x/reference.html">API - все методы пайтеста</a></p>

<h2 id="usage"><a href="https://docs.pytest.org/en/6.2.x/usage.html">Usage</a></h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest <span class="nt">--version</span>   <span class="c"># shows where pytest was imported from</span>
pytest <span class="nt">--fixtures</span>  <span class="c"># show available builtin function arguments</span>
pytest <span class="nt">-h</span> | <span class="nt">--help</span> <span class="c"># show help on command line and config file options</span>

pytest <span class="nt">-x</span>           <span class="c"># stop after first failure</span>
pytest <span class="nt">--maxfail</span><span class="o">=</span>2  <span class="c"># stop after two failures</span>

<span class="c"># run selecting tests</span>

pytest test_mod.py
pytest testing/ <span class="c"># all in one directory</span>
pytest <span class="nt">-k</span> <span class="s2">"MyClass and not method"</span> <span class="c"># by keyword. The example above will run TestMyClass.test_something but not TestMyClass.test_method_simple</span>

pytest test_mod.py::test_func <span class="c"># by functions name</span>
pytest test_mod.py::TestClass::test_method <span class="c"># by method name</span>
pytest <span class="nt">-m</span> slow <span class="c"># by mark, such a @pytest.mark.slow</span>
pytest <span class="nt">--pyargs</span> pkg.testing <span class="c"># This will import pkg.testing and use its filesystem location to find and run tests from</span>

<span class="c"># Modifying Python traceback printing</span>

pytest <span class="nt">--showlocals</span> <span class="c"># show local variables in tracebacks</span>
pytest <span class="nt">-l</span>           <span class="c"># show local variables (shortcut)</span>

pytest <span class="nt">--tb</span><span class="o">=</span>auto    <span class="c"># (default) 'long' tracebacks for the first and last</span>
                     <span class="c"># entry, but 'short' style for the other entries</span>
pytest <span class="nt">--tb</span><span class="o">=</span>long    <span class="c"># exhaustive, informative traceback formatting</span>
pytest <span class="nt">--tb</span><span class="o">=</span>short   <span class="c"># shorter traceback format</span>
pytest <span class="nt">--tb</span><span class="o">=</span>line    <span class="c"># only one line per failure</span>
pytest <span class="nt">--tb</span><span class="o">=</span>native  <span class="c"># Python standard library formatting</span>
pytest <span class="nt">--tb</span><span class="o">=</span>no      <span class="c"># no traceback at all</span>
</code></pre></div></div>

<p>Вывод саммари с отметкой pass/fail/skip <code class="language-plaintext highlighter-rouge">pytest -v</code></p>

<p><a href="https://docs.pytest.org/en/6.2.x/usage.html#detailed-summary-report">Можно запускать через</a> <code class="language-plaintext highlighter-rouge">pytest -r</code></p>

<p>Опции для запуска:</p>

<ul>
  <li>f - failed</li>
  <li>E - error</li>
  <li>s - skipped</li>
  <li>x - xfailed</li>
  <li>X - xpassed</li>
  <li>p - passed</li>
  <li>P - passed with output</li>
</ul>

<p>Выбор групп:</p>

<ul>
  <li>a - all except passes (pP)</li>
  <li>A - all</li>
  <li>N - none, this can be used to display nothing (since fE is the default)</li>
</ul>

<p>Пример <code class="language-plaintext highlighter-rouge">pytest -ra</code> или <code class="language-plaintext highlighter-rouge">[ytest -rfs</code>]</p>

<p><a href="https://docs.pytest.org/en/6.2.x/usage.html#dropping-to-pdb-python-debugger-on-failures">Запуск</a> с [<a href="pdb-python-debugger" title="Pdb python debugger">pdb-python-debugger</a>] <code class="language-plaintext highlighter-rouge">pytest --pdb</code> или <code class="language-plaintext highlighter-rouge">pytest --trace</code> (для запуска дебаггера в начале каждого теста).</p>

<p><a href="https://docs.pytest.org/en/6.2.x/usage.html#calling-pytest-from-python-code">Запуск из кода</a></p>

<h2 id="написание-ассертов"><a href="https://docs.pytest.org/en/6.2.x/assert.html">Написание ассертов</a></h2>

<h3 id="тестирование-неудачных-случаев">Тестирование неудачных случаев</h3>

<p>Используется <code class="language-plaintext highlighter-rouge">pytest.raises()</code> с контекстным менеджером.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pytest</span>
<span class="k">with</span> <span class="n">pytest</span><span class="p">.</span><span class="n">raises</span><span class="p">(</span><span class="nb">ZeroDivisionError</span><span class="p">):</span>
    <span class="mi">1</span><span class="o">/</span><span class="mi">0</span>
</code></pre></div></div>

<p>Или анлогично встроенным функциям [<a href="unittest" title="Unittest">unittest</a>]</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">myfunc</span><span class="p">():</span>
    <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="s">"Exception 123 raised"</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_match</span><span class="p">():</span>
    <span class="k">with</span> <span class="n">pytest</span><span class="p">.</span><span class="n">raises</span><span class="p">(</span><span class="nb">ValueError</span><span class="p">,</span> <span class="n">match</span><span class="o">=</span><span class="s">r".* 123 .*"</span><span class="p">):</span>
        <span class="n">myfunc</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="определение-собственных-описаний-для-проваленных-тестов"><a href="https://docs.pytest.org/en/6.2.x/assert.html#defining-your-own-explanation-for-failed-assertions">Определение собственных описаний для проваленных тестов</a></h3>

<p>Используется хук <code class="language-plaintext highlighter-rouge">pytest_assertrepr_compare(config: Config, op: str, left: object, right: object) → Optional[List[str]]</code></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># content of conftest.py
</span><span class="kn">from</span> <span class="nn">test_foocompare</span> <span class="kn">import</span> <span class="n">Foo</span>


<span class="k">def</span> <span class="nf">pytest_assertrepr_compare</span><span class="p">(</span><span class="n">op</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">right</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">left</span><span class="p">,</span> <span class="n">Foo</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="n">Foo</span><span class="p">)</span> <span class="ow">and</span> <span class="n">op</span> <span class="o">==</span> <span class="s">"=="</span><span class="p">:</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="s">"Comparing Foo instances:"</span><span class="p">,</span>
            <span class="s">"   vals: {} != {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">left</span><span class="p">.</span><span class="n">val</span><span class="p">,</span> <span class="n">right</span><span class="p">.</span><span class="n">val</span><span class="p">),</span>
        <span class="p">]</span>

<span class="c1"># content of test_foocompare.py
</span><span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">val</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">=</span> <span class="n">val</span>

    <span class="k">def</span> <span class="nf">__eq__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">other</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">val</span> <span class="o">==</span> <span class="n">other</span><span class="p">.</span><span class="n">val</span>


<span class="k">def</span> <span class="nf">test_compare</span><span class="p">():</span>
    <span class="n">f1</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">f2</span> <span class="o">=</span> <span class="n">Foo</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">f1</span> <span class="o">==</span> <span class="n">f2</span>
</code></pre></div></div>

<h2 id="фикстуры"><a href="https://docs.pytest.org/en/6.2.x/fixture.html">Фикстуры</a></h2>

<p>Применяются с помощью декораторв <code class="language-plaintext highlighter-rouge">@pytest.fixture</code>. Доступно несколько дефолтных фикстур.</p>

<p>Почитать что такое [<a href="фикстуры" title="Фикстуры">фикстуры</a>]</p>

<p>В pytest «фикстуры» - это определяемые вами функции, которые служат цели задания условий теста. Они также могут предоставить шаг действия, и это может быть мощным методом для разработки более сложных тестов. Пример:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Fruit</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">cubed</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="k">def</span> <span class="nf">cube</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">cubed</span> <span class="o">=</span> <span class="bp">True</span>


<span class="k">class</span> <span class="nc">FruitSalad</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">fruit_bowl</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">fruit</span> <span class="o">=</span> <span class="n">fruit_bowl</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">_cube_fruit</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">_cube_fruit</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">for</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">fruit</span><span class="p">:</span>
            <span class="n">fruit</span><span class="p">.</span><span class="n">cube</span><span class="p">()</span>


<span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">fruit_bowl</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">Fruit</span><span class="p">(</span><span class="s">"apple"</span><span class="p">),</span> <span class="n">Fruit</span><span class="p">(</span><span class="s">"banana"</span><span class="p">)]</span>


<span class="k">def</span> <span class="nf">test_fruit_salad</span><span class="p">(</span><span class="n">fruit_bowl</span><span class="p">):</span>
    <span class="c1"># Act
</span>    <span class="n">fruit_salad</span> <span class="o">=</span> <span class="n">FruitSalad</span><span class="p">(</span><span class="o">*</span><span class="n">fruit_bowl</span><span class="p">)</span>

    <span class="c1"># Assert
</span>    <span class="k">assert</span> <span class="nb">all</span><span class="p">(</span><span class="n">fruit</span><span class="p">.</span><span class="n">cubed</span> <span class="k">for</span> <span class="n">fruit</span> <span class="ow">in</span> <span class="n">fruit_salad</span><span class="p">.</span><span class="n">fruit</span><span class="p">)</span>
</code></pre></div></div>

<p>Фикстуры можно выстраивать в зависимости</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">first_entry</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">"a"</span>


<span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="n">first_entry</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">first_entry</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">test_string</span><span class="p">(</span><span class="n">order</span><span class="p">):</span>
    <span class="c1"># Act
</span>    <span class="n">order</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"b"</span><span class="p">)</span>

    <span class="c1"># Assert
</span>    <span class="k">assert</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">]</span>
</code></pre></div></div>

<p>С этим механизмом фикстуры легко становятся reusable</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">first_entry</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">"a"</span>


<span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="n">first_entry</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">first_entry</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">test_string</span><span class="p">(</span><span class="n">order</span><span class="p">):</span>
    <span class="c1"># Act
</span>    <span class="n">order</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"b"</span><span class="p">)</span>

    <span class="c1"># Assert
</span>    <span class="k">assert</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[</span><span class="s">"a"</span><span class="p">,</span> <span class="s">"b"</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">test_int</span><span class="p">(</span><span class="n">order</span><span class="p">):</span>
    <span class="c1"># Act
</span>    <span class="n">order</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>

    <span class="c1"># Assert
</span>    <span class="k">assert</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>

<p>Можно так-же запрашивать более одной фикстуры за разделе</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">first_entry</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">"a"</span>


<span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">second_entry</span><span class="p">():</span>
    <span class="k">return</span> <span class="mi">2</span>


<span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="n">first_entry</span><span class="p">,</span> <span class="n">second_entry</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">first_entry</span><span class="p">,</span> <span class="n">second_entry</span><span class="p">]</span>


<span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">expected_list</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[</span><span class="s">"a"</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">3.0</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">test_string</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">expected_list</span><span class="p">):</span>
    <span class="c1"># Act
</span>    <span class="n">order</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mf">3.0</span><span class="p">)</span>

    <span class="c1"># Assert
</span>    <span class="k">assert</span> <span class="n">order</span> <span class="o">==</span> <span class="n">expected_list</span>
</code></pre></div></div>

<p>Кроме того, фикстуры можно вызвать более одного раза за тест, значение кешируется.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">first_entry</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">"a"</span>


<span class="c1"># Arrange
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">order</span><span class="p">():</span>
    <span class="k">return</span> <span class="p">[]</span>


<span class="c1"># Act
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">append_first</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">first_entry</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">order</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">first_entry</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_string_only</span><span class="p">(</span><span class="n">append_first</span><span class="p">,</span> <span class="n">order</span><span class="p">,</span> <span class="n">first_entry</span><span class="p">):</span>
    <span class="c1"># Assert
</span>    <span class="k">assert</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[</span><span class="n">first_entry</span><span class="p">]</span>
</code></pre></div></div>

<p>Можно сделать автоюзабельные фикстуры (тогда они будут применяться для всех тестов)</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">first_entry</span><span class="p">():</span>
    <span class="k">return</span> <span class="s">"a"</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">order</span><span class="p">(</span><span class="n">first_entry</span><span class="p">):</span>
    <span class="k">return</span> <span class="p">[]</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">autouse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">append_first</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">first_entry</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">order</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">first_entry</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_string_only</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">first_entry</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[</span><span class="n">first_entry</span><span class="p">]</span>


<span class="k">def</span> <span class="nf">test_string_and_int</span><span class="p">(</span><span class="n">order</span><span class="p">,</span> <span class="n">first_entry</span><span class="p">):</span>
    <span class="n">order</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">order</span> <span class="o">==</span> <span class="p">[</span><span class="n">first_entry</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
</code></pre></div></div>

<p><a href="https://docs.pytest.org/en/6.2.x/fixture.html#scope-sharing-fixtures-across-classes-modules-packages-or-session">Мы можем пошарить фикстуры на классы, модули, пакеты и сессии</a></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">smtplib</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">"module"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">smtp_connection</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">smtplib</span><span class="p">.</span><span class="n">SMTP</span><span class="p">(</span><span class="s">"smtp.gmail.com"</span><span class="p">,</span> <span class="mi">587</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">test_ehlo</span><span class="p">(</span><span class="n">smtp_connection</span><span class="p">):</span>
    <span class="n">response</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">smtp_connection</span><span class="p">.</span><span class="n">ehlo</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">response</span> <span class="o">==</span> <span class="mi">250</span>
    <span class="k">assert</span> <span class="s">b"smtp.gmail.com"</span> <span class="ow">in</span> <span class="n">msg</span>
    <span class="k">assert</span> <span class="mi">0</span>  <span class="c1"># for demo purposes
</span>

<span class="k">def</span> <span class="nf">test_noop</span><span class="p">(</span><span class="n">smtp_connection</span><span class="p">):</span>
    <span class="n">response</span><span class="p">,</span> <span class="n">msg</span> <span class="o">=</span> <span class="n">smtp_connection</span><span class="p">.</span><span class="n">noop</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">response</span> <span class="o">==</span> <span class="mi">250</span>
    <span class="k">assert</span> <span class="mi">0</span>  <span class="c1"># for demo purposes
</span></code></pre></div></div>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pytest test_module.py
<span class="o">===========================</span> <span class="nb">test </span>session starts <span class="o">============================</span>
platform linux <span class="nt">--</span> Python 3.x.y, pytest-6.x.y, py-1.x.y, pluggy-0.x.y
cachedir: <span class="nv">$PYTHON_PREFIX</span>/.pytest_cache
rootdir: <span class="nv">$REGENDOC_TMPDIR</span>
collected 2 items

test_module.py FF                                                    <span class="o">[</span>100%]

<span class="o">=================================</span> FAILURES <span class="o">=================================</span>
________________________________ test_ehlo _________________________________

smtp_connection <span class="o">=</span> &lt;smtplib.SMTP object at 0xdeadbeef&gt;

    def test_ehlo<span class="o">(</span>smtp_connection<span class="o">)</span>:
        response, msg <span class="o">=</span> smtp_connection.ehlo<span class="o">()</span>
        assert response <span class="o">==</span> 250
        assert b<span class="s2">"smtp.gmail.com"</span> <span class="k">in </span>msg
<span class="o">&gt;</span>       assert 0  <span class="c"># for demo purposes</span>
E       assert 0

test_module.py:7: AssertionError
________________________________ test_noop _________________________________

smtp_connection <span class="o">=</span> &lt;smtplib.SMTP object at 0xdeadbeef&gt;

    def test_noop<span class="o">(</span>smtp_connection<span class="o">)</span>:
        response, msg <span class="o">=</span> smtp_connection.noop<span class="o">()</span>
        assert response <span class="o">==</span> 250
<span class="o">&gt;</span>       assert 0  <span class="c"># for demo purposes</span>
E       assert 0

test_module.py:13: AssertionError
<span class="o">=========================</span> short <span class="nb">test </span>summary info <span class="o">==========================</span>
FAILED test_module.py::test_ehlo - assert 0
FAILED test_module.py::test_noop - assert 0
<span class="o">============================</span> 2 failed <span class="k">in </span>0.12s <span class="o">=============================</span>
</code></pre></div></div>

<p>Для scopes оступно:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">function</code>: the default scope, the fixture is destroyed at the end of the test.</li>
  <li><code class="language-plaintext highlighter-rouge">class</code>: the fixture is destroyed during teardown of the last test in the class.</li>
  <li><code class="language-plaintext highlighter-rouge">module</code>: the fixture is destroyed during teardown of the last test in the module.</li>
  <li><code class="language-plaintext highlighter-rouge">package</code>: the fixture is destroyed during teardown of the last test in the package.</li>
  <li><code class="language-plaintext highlighter-rouge">session</code>: the fixture is destroyed at the end of the test session.</li>
</ul>

<p>Кроме того, можно динамически</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">determine_scope</span><span class="p">(</span><span class="n">fixture_name</span><span class="p">,</span> <span class="n">config</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">config</span><span class="p">.</span><span class="n">getoption</span><span class="p">(</span><span class="s">"--keep-containers"</span><span class="p">,</span> <span class="bp">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="s">"session"</span>
    <span class="k">return</span> <span class="s">"function"</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="n">determine_scope</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">docker_container</span><span class="p">():</span>
    <span class="k">yield</span> <span class="n">spawn_container</span><span class="p">()</span>
</code></pre></div></div>

<p><a href="https://docs.pytest.org/en/6.2.x/fixture.html#fixture-errors">Errors фикстур</a></p>

<h3 id="teardowncleanup-aka-fixture-finalization"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#teardown-cleanup-aka-fixture-finalization">Teardown/Cleanup (AKA Fixture finalization)</a></h3>

<h4 id="yield-fixtures-recommended">yield fixtures (recommended)</h4>

<ol>
  <li>return is swapped out for yield.</li>
  <li>Any teardown code for that fixture is placed after the yield</li>
</ol>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">emaillib</span> <span class="kn">import</span> <span class="n">Email</span><span class="p">,</span> <span class="n">MailAdminClient</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">mail_admin</span><span class="p">():</span>
    <span class="k">return</span> <span class="n">MailAdminClient</span><span class="p">()</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">sending_user</span><span class="p">(</span><span class="n">mail_admin</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">mail_admin</span><span class="p">.</span><span class="n">create_user</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">user</span>
    <span class="n">admin_client</span><span class="p">.</span><span class="n">delete_user</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">receiving_user</span><span class="p">(</span><span class="n">mail_admin</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">mail_admin</span><span class="p">.</span><span class="n">create_user</span><span class="p">()</span>
    <span class="k">yield</span> <span class="n">user</span>
    <span class="n">admin_client</span><span class="p">.</span><span class="n">delete_user</span><span class="p">(</span><span class="n">user</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_email_received</span><span class="p">(</span><span class="n">receiving_user</span><span class="p">,</span> <span class="n">email</span><span class="p">):</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">Email</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="s">"Hey!"</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="s">"How's it going?"</span><span class="p">)</span>
    <span class="n">sending_user</span><span class="p">.</span><span class="n">send_email</span><span class="p">(</span><span class="n">_email</span><span class="p">,</span> <span class="n">receiving_user</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">email</span> <span class="ow">in</span> <span class="n">receiving_user</span><span class="p">.</span><span class="n">inbox</span>
</code></pre></div></div>

<p>Все что записано после <code class="language-plaintext highlighter-rouge">yield</code> будет запускаться после выпаолнения теста, но в обратном порядке. Поскольку <code class="language-plaintext highlighter-rouge">receiving_user</code> последний, то сначала будет удален узер для него, затем для <code class="language-plaintext highlighter-rouge">sending_user</code></p>

<h4 id="прямая-реализация-финализирующей-части"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#adding-finalizers-directly">Прямая реализация финализирующей части</a></h4>

<h4 id="безопасный-тирдаун"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#safe-teardowns">Безопасный тирдаун</a></h4>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pytest</span>

<span class="kn">from</span> <span class="nn">emaillib</span> <span class="kn">import</span> <span class="n">Email</span><span class="p">,</span> <span class="n">MailAdminClient</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">setup</span><span class="p">():</span>
    <span class="n">mail_admin</span> <span class="o">=</span> <span class="n">MailAdminClient</span><span class="p">()</span>
    <span class="n">sending_user</span> <span class="o">=</span> <span class="n">mail_admin</span><span class="p">.</span><span class="n">create_user</span><span class="p">()</span>
    <span class="n">receiving_user</span> <span class="o">=</span> <span class="n">mail_admin</span><span class="p">.</span><span class="n">create_user</span><span class="p">()</span>
    <span class="n">email</span> <span class="o">=</span> <span class="n">Email</span><span class="p">(</span><span class="n">subject</span><span class="o">=</span><span class="s">"Hey!"</span><span class="p">,</span> <span class="n">body</span><span class="o">=</span><span class="s">"How's it going?"</span><span class="p">)</span>
    <span class="n">sending_user</span><span class="p">.</span><span class="n">send_emai</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="n">receiving_user</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">receiving_user</span><span class="p">,</span> <span class="n">email</span>
    <span class="n">receiving_user</span><span class="p">.</span><span class="n">delete_email</span><span class="p">(</span><span class="n">email</span><span class="p">)</span>
    <span class="n">admin_client</span><span class="p">.</span><span class="n">delete_user</span><span class="p">(</span><span class="n">sending_user</span><span class="p">)</span>
    <span class="n">admin_client</span><span class="p">.</span><span class="n">delete_user</span><span class="p">(</span><span class="n">receiving_user</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_email_received</span><span class="p">(</span><span class="n">setup</span><span class="p">):</span>
    <span class="n">receiving_user</span><span class="p">,</span> <span class="n">email</span> <span class="o">=</span> <span class="n">setup</span>
    <span class="k">assert</span> <span class="n">email</span> <span class="ow">in</span> <span class="n">receiving_user</span><span class="p">.</span><span class="n">inbox</span>
</code></pre></div></div>

<h3 id="обеспечение-доступности-фикстур-на-разных-уровнях-видимости"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#fixture-availabiility">Обеспечение доступности фикстур на разных уровнях видимости</a></h3>

<h3 id="fixture-instantiation-order"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#fixture-instantiation-order">Fixture instantiation order</a></h3>

<h3 id="running-multiple-assert-statements-safely"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#running-multiple-assert-statements-safely">Running multiple assert statements safely</a></h3>

<h3 id="using-markers-to-pass-data-to-fixtures"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#using-markers-to-pass-data-to-fixtures">Using markers to pass data to fixtures</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span>
<span class="k">def</span> <span class="nf">fixt</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">marker</span> <span class="o">=</span> <span class="n">request</span><span class="p">.</span><span class="n">node</span><span class="p">.</span><span class="n">get_closest_marker</span><span class="p">(</span><span class="s">"fixt_data"</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">marker</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="c1"># Handle missing marker in some way...
</span>        <span class="n">data</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">marker</span><span class="p">.</span><span class="n">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="c1"># Do something with the data
</span>    <span class="k">return</span> <span class="n">data</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">fixt_data</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_fixt</span><span class="p">(</span><span class="n">fixt</span><span class="p">):</span>
    <span class="k">assert</span> <span class="n">fixt</span> <span class="o">==</span> <span class="mi">42</span>
</code></pre></div></div>

<h3 id="factories-as-fixtures"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#factories-as-fixtures">Factories as fixtures</a></h3>

<h3 id="parametrizing-fixtures"><a href="https://docs.pytest.org/en/6.2.x/fixture.html#parametrizing-fixtures">Parametrizing fixtures</a></h3>

<p>Позволяет запустить серию тестов.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">smtplib</span>

<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">"module"</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">[</span><span class="s">"smtp.gmail.com"</span><span class="p">,</span> <span class="s">"mail.python.org"</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">smtp_connection</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">smtp_connection</span> <span class="o">=</span> <span class="n">smtplib</span><span class="p">.</span><span class="n">SMTP</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">param</span><span class="p">,</span> <span class="mi">587</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">yield</span> <span class="n">smtp_connection</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"finalizing {}"</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="n">smtp_connection</span><span class="p">))</span>
    <span class="n">smtp_connection</span><span class="p">.</span><span class="n">close</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="далее-еще-несколько-разделов-про-использование-меток-группировку-фикстур-и-автоматическое-выполнение">Далее еще несколько разделов про использование меток, группировку фикстур и автоматическое выполнение</h3>

<h2 id="использование-меток-для-обозначения-режимов-запуска-тестов"><a href="https://docs.pytest.org/en/6.2.x/mark.html#marking-test-functions-with-attributes">Использование меток для обозначения режимов запуска тестов</a></h2>

<p>Запускается через <code class="language-plaintext highlighter-rouge">pytest --markers</code>. По дефолту доступно:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">usefixtures</code> - use fixtures on a test function or class</li>
  <li><code class="language-plaintext highlighter-rouge">filterwarnings</code> - filter certain warnings of a test function</li>
  <li><code class="language-plaintext highlighter-rouge">skip</code> - always skip a test function</li>
  <li><code class="language-plaintext highlighter-rouge">skipif</code> - skip a test function if a certain condition is met</li>
  <li><code class="language-plaintext highlighter-rouge">xfail</code> - produce an “expected failure” outcome if a certain condition is met</li>
  <li><code class="language-plaintext highlighter-rouge">parametrize</code> - perform multiple calls to the same test function.</li>
</ul>

<p>Метку можно зарегистрирповать в <code class="language-plaintext highlighter-rouge">pytest.ini</code></p>

<div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[pytest]</span>
<span class="py">markers</span> <span class="p">=</span>
    <span class="err">slow:</span> <span class="err">marks</span> <span class="err">tests</span> <span class="err">as</span> <span class="err">slow</span> <span class="err">(deselect</span> <span class="err">with</span> <span class="err">'-m</span> <span class="err">"not</span> <span class="err">slow"')</span>
    <span class="err">serial</span>
</code></pre></div></div>

<p>или в <code class="language-plaintext highlighter-rouge">pyproject.toml</code></p>

<div class="language-toml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nn">[tool.pytest.ini_options]</span>
<span class="py">markers</span> <span class="p">=</span> <span class="p">[</span>
    <span class="s">"slow: marks tests as slow (deselect with '-m </span><span class="se">\"</span><span class="s">not slow</span><span class="se">\"</span><span class="s">')"</span><span class="p">,</span>
    <span class="s">"serial"</span><span class="p">,</span>
<span class="p">]</span>
</code></pre></div></div>

<p>или через хук пайтеста</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">pytest_configure</span><span class="p">(</span><span class="n">config</span><span class="p">):</span>
    <span class="n">config</span><span class="p">.</span><span class="n">addinivalue_line</span><span class="p">(</span>
        <span class="s">"markers"</span><span class="p">,</span> <span class="s">"env(name): mark test to run only on named environment"</span>
    <span class="p">)</span>
</code></pre></div></div>

<h2 id="monkeypatchingmocking-modules-and-environments"><a href="https://docs.pytest.org/en/6.2.x/monkeypatch.html">Monkeypatching/mocking modules and environments</a></h2>

<p><code class="language-plaintext highlighter-rouge">monkeypatch</code> фикстура позволяет безопасно добавлять/убирать атрибуты и объекты, а так-же менять <code class="language-plaintext highlighter-rouge">sys.path</code></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">monkeypatch</span><span class="p">.</span><span class="nb">setattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="p">.</span><span class="nb">delattr</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="p">.</span><span class="n">setitem</span><span class="p">(</span><span class="n">mapping</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="p">.</span><span class="n">delitem</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="p">.</span><span class="n">setenv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">value</span><span class="p">,</span> <span class="n">prepend</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="p">.</span><span class="n">delenv</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">raising</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="p">.</span><span class="n">syspath_prepend</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="n">monkeypatch</span><span class="p">.</span><span class="n">chdir</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
</code></pre></div></div>

<p>Все очищается, как только запрашивающая тестирующая функция завершает свою работу. Простой пример</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># contents of test_module.py with source code and the test
</span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>


<span class="k">def</span> <span class="nf">getssh</span><span class="p">():</span>
    <span class="s">"""Simple function to return expanded homedir ssh path."""</span>
    <span class="k">return</span> <span class="n">Path</span><span class="p">.</span><span class="n">home</span><span class="p">()</span> <span class="o">/</span> <span class="s">".ssh"</span>


<span class="k">def</span> <span class="nf">test_getssh</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>
    <span class="c1"># mocked return function to replace Path.home
</span>    <span class="c1"># always return '/abc'
</span>    <span class="k">def</span> <span class="nf">mockreturn</span><span class="p">():</span>
        <span class="k">return</span> <span class="n">Path</span><span class="p">(</span><span class="s">"/abc"</span><span class="p">)</span>

    <span class="c1"># Application of the monkeypatch to replace Path.home
</span>    <span class="c1"># with the behavior of mockreturn defined above.
</span>    <span class="n">monkeypatch</span><span class="p">.</span><span class="nb">setattr</span><span class="p">(</span><span class="n">Path</span><span class="p">,</span> <span class="s">"home"</span><span class="p">,</span> <span class="n">mockreturn</span><span class="p">)</span>

    <span class="c1"># Calling getssh() will use mockreturn in place of Path.home
</span>    <span class="c1"># for this test with the monkeypatch.
</span>    <span class="n">x</span> <span class="o">=</span> <span class="n">getssh</span><span class="p">()</span>
    <span class="k">assert</span> <span class="n">x</span> <span class="o">==</span> <span class="n">Path</span><span class="p">(</span><span class="s">"/abc/.ssh"</span><span class="p">)</span>
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">monkeypatch.setattr</code> может использоваться для конструирования классов, которые возвращают объект вместо значений</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">requests</span>


<span class="k">def</span> <span class="nf">get_json</span><span class="p">(</span><span class="n">url</span><span class="p">):</span>
    <span class="s">"""Takes a URL, and returns the JSON."""</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">r</span><span class="p">.</span><span class="n">json</span><span class="p">()</span>
</code></pre></div></div>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># import requests for the purposes of monkeypatching
</span><span class="kn">import</span> <span class="nn">requests</span>

<span class="c1"># our app.py that includes the get_json() function
# this is the previous code block example
</span><span class="kn">import</span> <span class="nn">app</span>

<span class="c1"># custom class to be the mock return value
# will override the requests.Response returned from requests.get
</span><span class="k">class</span> <span class="nc">MockResponse</span><span class="p">:</span>

    <span class="c1"># mock json() method always returns a specific testing dictionary
</span>    <span class="o">@</span><span class="nb">staticmethod</span>
    <span class="k">def</span> <span class="nf">json</span><span class="p">():</span>
        <span class="k">return</span> <span class="p">{</span><span class="s">"mock_key"</span><span class="p">:</span> <span class="s">"mock_response"</span><span class="p">}</span>


<span class="k">def</span> <span class="nf">test_get_json</span><span class="p">(</span><span class="n">monkeypatch</span><span class="p">):</span>

    <span class="c1"># Any arguments may be passed and mock_get() will always return our
</span>    <span class="c1"># mocked object, which only has the .json() method.
</span>    <span class="k">def</span> <span class="nf">mock_get</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">MockResponse</span><span class="p">()</span>

    <span class="c1"># apply the monkeypatch for requests.get to mock_get
</span>    <span class="n">monkeypatch</span><span class="p">.</span><span class="nb">setattr</span><span class="p">(</span><span class="n">requests</span><span class="p">,</span> <span class="s">"get"</span><span class="p">,</span> <span class="n">mock_get</span><span class="p">)</span>

    <span class="c1"># app.get_json, which contains requests.get, uses the monkeypatch
</span>    <span class="n">result</span> <span class="o">=</span> <span class="n">app</span><span class="p">.</span><span class="n">get_json</span><span class="p">(</span><span class="s">"https://fakeurl"</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">result</span><span class="p">[</span><span class="s">"mock_key"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"mock_response"</span>
</code></pre></div></div>

<h3 id="global-patch-example-preventing-requests-from-remote-operations"><a href="https://docs.pytest.org/en/6.2.x/monkeypatch.html#global-patch-example-preventing-requests-from-remote-operations">Global patch example: preventing “requests” from remote operations</a></h3>

<h3 id="monkeypatching-environment-variables"><a href="https://docs.pytest.org/en/6.2.x/monkeypatch.html#monkeypatching-environment-variables">Monkeypatching environment variables</a></h3>

<h3 id="monkeypatching-dictionaries"><a href="https://docs.pytest.org/en/6.2.x/monkeypatch.html#monkeypatching-dictionaries">Monkeypatching dictionaries</a></h3>

<h2 id="temporary-directories-and-files"><a href="https://docs.pytest.org/en/6.2.x/tmpdir.html">Temporary directories and files</a></h2>

<p><code class="language-plaintext highlighter-rouge">tmp_path</code> позволяет создавать временные директории для теста</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CONTENT</span> <span class="o">=</span> <span class="s">"content"</span>


<span class="k">def</span> <span class="nf">test_create_file</span><span class="p">(</span><span class="n">tmp_path</span><span class="p">):</span>
    <span class="n">d</span> <span class="o">=</span> <span class="n">tmp_path</span> <span class="o">/</span> <span class="s">"sub"</span>
    <span class="n">d</span><span class="p">.</span><span class="n">mkdir</span><span class="p">()</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">d</span> <span class="o">/</span> <span class="s">"hello.txt"</span>
    <span class="n">p</span><span class="p">.</span><span class="n">write_text</span><span class="p">(</span><span class="n">CONTENT</span><span class="p">)</span>
    <span class="k">assert</span> <span class="n">p</span><span class="p">.</span><span class="n">read_text</span><span class="p">()</span> <span class="o">==</span> <span class="n">CONTENT</span>
    <span class="k">assert</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">tmp_path</span><span class="p">.</span><span class="n">iterdir</span><span class="p">()))</span> <span class="o">==</span> <span class="mi">1</span>
    <span class="k">assert</span> <span class="mi">0</span>
</code></pre></div></div>

<h3 id="the-tmp_path_factory-fixture"><a href="https://docs.pytest.org/en/6.2.x/tmpdir.html#the-tmp-path-factory-fixture">The tmp_path_factory fixture</a></h3>

<h2 id="capturing-of-the-stdoutstderr-output"><a href="https://docs.pytest.org/en/6.2.x/capture.html">Capturing of the stdout/stderr output</a></h2>

<p>Можно задать методы получения стандартного вывода</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest <span class="nt">-s</span>                  <span class="c"># disable all capturing</span>
pytest <span class="nt">--capture</span><span class="o">=</span>sys       <span class="c"># replace sys.stdout/stderr with in-mem files</span>
pytest <span class="nt">--capture</span><span class="o">=</span>fd        <span class="c"># also point filedescriptors 1 and 2 to temp file</span>
pytest <span class="nt">--capture</span><span class="o">=</span>tee-sys   <span class="c"># combines 'sys' and '-s', capturing sys.stdout/stderr</span>
                           <span class="c"># and passing it along to the actual sys.stdout/stderr</span>
</code></pre></div></div>

<p>Можно использовать print() для дебаг</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">setup_function</span><span class="p">(</span><span class="n">function</span><span class="p">):</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"setting up"</span><span class="p">,</span> <span class="n">function</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">test_func1</span><span class="p">():</span>
    <span class="k">assert</span> <span class="bp">True</span>


<span class="k">def</span> <span class="nf">test_func2</span><span class="p">():</span>
    <span class="k">assert</span> <span class="bp">False</span>
</code></pre></div></div>

<h3 id="accessing-captured-output-from-a-test-function"><a href="https://docs.pytest.org/en/6.2.x/capture.html#accessing-captured-output-from-a-test-function">Accessing captured output from a test function</a></h3>

<h2 id="warnings-capture"><a href="https://docs.pytest.org/en/6.2.x/warnings.html">Warnings Capture</a></h2>

<h2 id="doctest-integration-for-modules-and-test-files"><a href="https://docs.pytest.org/en/6.2.x/doctest.html">Doctest integration for modules and test files</a></h2>

<p>[<a href="doctest" title="Doctest">doctest</a>]</p>

<h2 id="skip-and-xfail-dealing-with-tests-that-cannot-succeed"><a href="https://docs.pytest.org/en/6.2.x/skipping.html">Skip and xfail: dealing with tests that cannot succeed</a></h2>

<ul>
  <li><code class="language-plaintext highlighter-rouge">skip</code> тест будет проскипан за исключением ряда условий</li>
  <li><code class="language-plaintext highlighter-rouge">xfail</code> тест будет провлен за исключением ряда условий</li>
</ul>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">skip</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s">"no way of currently testing this"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_the_unknown</span><span class="p">():</span>
    <span class="p">...</span>

<span class="c1"># альтернатива
</span><span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_config</span><span class="p">():</span>
        <span class="n">pytest</span><span class="p">.</span><span class="n">skip</span><span class="p">(</span><span class="s">"unsupported configuration"</span><span class="p">)</span>
</code></pre></div></div>

<p>Скипать можно и на уровне модуля</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">pytest</span>

<span class="k">if</span> <span class="ow">not</span> <span class="n">sys</span><span class="p">.</span><span class="n">platform</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">"win"</span><span class="p">):</span>
    <span class="n">pytest</span><span class="p">.</span><span class="n">skip</span><span class="p">(</span><span class="s">"skipping windows-only tests"</span><span class="p">,</span> <span class="n">allow_module_level</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="skipif">skipif</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">sys</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">skipif</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">version_info</span> <span class="o">&lt;</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">reason</span><span class="o">=</span><span class="s">"requires python3.7 or higher"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="p">...</span>
</code></pre></div></div>

<p>Можно шарить скипы между разными модулями.</p>

<p>Крмое того, можно проискпать все тесты модуля или класса в модуле:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">skipif</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s">"win32"</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s">"does not run on windows"</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">TestPosixCalls</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">test_function</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"will not be setup or run under 'win32' platform"</span>
</code></pre></div></div>

<p>Кроме того, можно скипать тесты, <a href="https://docs.pytest.org/en/6.2.x/skipping.html#skipping-on-a-missing-import-dependency">если невозможно заимпортить зависимости</a>.</p>

<h3 id="xfail-mark-test-functions-as-expected-to-fail"><a href="https://docs.pytest.org/en/6.2.x/skipping.html#xfail-mark-test-functions-as-expected-to-fail">XFail: mark test functions as expected to fail</a></h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">xfail</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="p">...</span>

<span class="c1"># альтернатива
</span><span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">valid_config</span><span class="p">():</span>
        <span class="n">pytest</span><span class="p">.</span><span class="n">xfail</span><span class="p">(</span><span class="s">"failing configuration (but should work)"</span><span class="p">)</span>

<span class="c1"># или
</span><span class="k">def</span> <span class="nf">test_function2</span><span class="p">():</span>
    <span class="kn">import</span> <span class="nn">slow_module</span>

    <span class="k">if</span> <span class="n">slow_module</span><span class="p">.</span><span class="n">slow_function</span><span class="p">():</span>
        <span class="n">pytest</span><span class="p">.</span><span class="n">xfail</span><span class="p">(</span><span class="s">"slow_module taking too long"</span><span class="p">)</span>
</code></pre></div></div>

<p>Мы так-же можем задать несколько параметров</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">sys</span><span class="p">.</span><span class="n">platform</span> <span class="o">==</span> <span class="s">"win32"</span><span class="p">,</span> <span class="n">reason</span><span class="o">=</span><span class="s">"bug in a 3rd party library"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>

<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">reason</span><span class="o">=</span><span class="s">"known parser issue"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="p">...</span>

<span class="c1"># можно задать ошибку, которая будет поднята
</span><span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">raises</span><span class="o">=</span><span class="nb">RuntimeError</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="p">...</span>

<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">run</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="p">...</span>

<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">xfail</span><span class="p">(</span><span class="n">strict</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">test_function</span><span class="p">():</span>
    <span class="p">...</span>
</code></pre></div></div>

<p>Проигнорить <code class="language-plaintext highlighter-rouge">xfail</code> можно так <code class="language-plaintext highlighter-rouge">pytest --runxfail</code></p>

<p>Аналогом является <code class="language-plaintext highlighter-rouge">zpass</code></p>

<p><a href="https://docs.pytest.org/en/6.2.x/skipping.html#skip-xfail-with-parametrize">Скип, фейл и пас могут быть параметризованы</a> для запуска в серии тестов</p>

<h2 id="parametrizing-fixtures-and-test-functions"><a href="https://docs.pytest.org/en/6.2.x/parametrize.html">Parametrizing fixtures and test functions</a></h2>

<p>Используется для запуска серии тестов</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># content of test_expectation.py
</span><span class="kn">import</span> <span class="nn">pytest</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">parametrize</span><span class="p">(</span><span class="s">"test_input,expected"</span><span class="p">,</span> <span class="p">[(</span><span class="s">"3+5"</span><span class="p">,</span> <span class="mi">8</span><span class="p">),</span> <span class="p">(</span><span class="s">"2+4"</span><span class="p">,</span> <span class="mi">6</span><span class="p">),</span> <span class="p">(</span><span class="s">"6*9"</span><span class="p">,</span> <span class="mi">42</span><span class="p">)])</span>
<span class="k">def</span> <span class="nf">test_eval</span><span class="p">(</span><span class="n">test_input</span><span class="p">,</span> <span class="n">expected</span><span class="p">):</span>
    <span class="k">assert</span> <span class="nb">eval</span><span class="p">(</span><span class="n">test_input</span><span class="p">)</span> <span class="o">==</span> <span class="n">expected</span>
</code></pre></div></div>

<h2 id="cache-working-with-cross-testrun-state"><a href="https://docs.pytest.org/en/6.2.x/cache.html">Cache: working with cross-testrun state</a></h2>

<p>Позволяет кешировать и выводить только определеныне тесты</p>

<ul>
  <li>–lf, –last-failed - to only re-run the failures.</li>
  <li>–ff, –failed-first - to run the failures first and then the rest of the tests.</li>
</ul>

<p>Мы можем сконфигурирровать следующий запуск тестов</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pytest <span class="nt">--last-failed</span> <span class="nt">--last-failed-no-failures</span> all    <span class="c"># run all tests (default behavior)</span>
pytest <span class="nt">--last-failed</span> <span class="nt">--last-failed-no-failures</span> none   <span class="c"># run no tests and exit</span>
</code></pre></div></div>

<p>Очистить кеш <code class="language-plaintext highlighter-rouge">pytest --cache-clear</code></p>

<h2 id="unittesttestcase-support"><a href="https://docs.pytest.org/en/6.2.x/unittest.html">unittest.TestCase Support</a></h2>

<p>pytest саппортит запуск [<a href="unittest" title="Unittest">unittest</a>]. Из коробки это можно сделать так: <code class="language-plaintext highlighter-rouge">pytest tests</code></p>

<p>Крмое того, пайтест автоматически коллектит <code class="language-plaintext highlighter-rouge">unittest.TestCase</code> сабклассы и их методы в  <code class="language-plaintext highlighter-rouge">test_*.py</code> или <code class="language-plaintext highlighter-rouge">*_test.py</code>. Кроме того, саппортятся:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">@unittest.skip</code> style decorators;</li>
  <li><code class="language-plaintext highlighter-rouge">setUp/tearDown</code>;</li>
  <li><code class="language-plaintext highlighter-rouge">setUpClass/tearDownClass</code>;</li>
  <li><code class="language-plaintext highlighter-rouge">setUpModule/tearDownModule</code>;</li>
</ul>

<p>не саппортится load test протокол и сабтесты</p>

<p>В юниттестовых сабклассах саппортятся:</p>

<ul>
  <li>Marks: skip, skipif, xfail;</li>
  <li>Auto-use fixtures;</li>
</ul>

<p>Не работаюти (и никогда не будут):</p>

<ul>
  <li>Fixtures (except for autouse fixtures);</li>
  <li>Parametrization;</li>
  <li>Custom hooks;</li>
</ul>

<p>pytest fixtures <a href="https://docs.pytest.org/en/6.2.x/unittest.html#mixing-pytest-fixtures-into-unittest-testcase-subclasses-using-marks">можно миксить</a> в <code class="language-plaintext highlighter-rouge">unittest.TestCase</code> сабклассы</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># we define a fixture function below and it will be "used" by
# referencing its name from tests
</span>
<span class="kn">import</span> <span class="nn">pytest</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">scope</span><span class="o">=</span><span class="s">"class"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">db_class</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">class</span> <span class="nc">DummyDB</span><span class="p">:</span>
        <span class="k">pass</span>

    <span class="c1"># set a class attribute on the invoking test context
</span>    <span class="n">request</span><span class="p">.</span><span class="n">cls</span><span class="p">.</span><span class="n">db</span> <span class="o">=</span> <span class="n">DummyDB</span><span class="p">()</span>
</code></pre></div></div>

<p>Теперь, если мы используем db_class, он будет вызван однажды для каждого теста и установит на уровне атрибута класса инстанс сласса DummyDB(). Он станет доступен в тесте юниттеста благодаря <code class="language-plaintext highlighter-rouge">cls</code></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">unittest</span>
<span class="kn">import</span> <span class="nn">pytest</span>


<span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">mark</span><span class="p">.</span><span class="n">usefixtures</span><span class="p">(</span><span class="s">"db_class"</span><span class="p">)</span>
<span class="k">class</span> <span class="nc">MyTest</span><span class="p">(</span><span class="n">unittest</span><span class="p">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_method1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s">"db"</span><span class="p">)</span>
        <span class="k">assert</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">db</span>  <span class="c1"># fail for demo purposes
</span>
    <span class="k">def</span> <span class="nf">test_method2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">assert</span> <span class="mi">0</span><span class="p">,</span> <span class="bp">self</span><span class="p">.</span><span class="n">db</span>  <span class="c1"># fail for demo purposes
</span></code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">@pytest.mark.usefixtures("db_class")</code> проверяет, что db_class вызван только один раз для теста.</p>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nv">$ </span>pytest test_unittest_db.py
<span class="o">===========================</span> <span class="nb">test </span>session starts <span class="o">============================</span>
platform linux <span class="nt">--</span> Python 3.x.y, pytest-6.x.y, py-1.x.y, pluggy-0.x.y
cachedir: <span class="nv">$PYTHON_PREFIX</span>/.pytest_cache
rootdir: <span class="nv">$REGENDOC_TMPDIR</span>
collected 2 items

test_unittest_db.py FF                                               <span class="o">[</span>100%]

<span class="o">=================================</span> FAILURES <span class="o">=================================</span>
___________________________ MyTest.test_method1 ____________________________

self <span class="o">=</span> &lt;test_unittest_db.MyTest <span class="nv">testMethod</span><span class="o">=</span>test_method1&gt;

    def test_method1<span class="o">(</span>self<span class="o">)</span>:
        assert hasattr<span class="o">(</span>self, <span class="s2">"db"</span><span class="o">)</span>
<span class="o">&gt;</span>       assert 0, self.db  <span class="c"># fail for demo purposes</span>
E       AssertionError: &lt;conftest.db_class.&lt;locals&gt;.DummyDB object at 0xdeadbeef&gt;
E       assert 0

test_unittest_db.py:10: AssertionError
___________________________ MyTest.test_method2 ____________________________

self <span class="o">=</span> &lt;test_unittest_db.MyTest <span class="nv">testMethod</span><span class="o">=</span>test_method2&gt;

    def test_method2<span class="o">(</span>self<span class="o">)</span>:
<span class="o">&gt;</span>       assert 0, self.db  <span class="c"># fail for demo purposes</span>
E       AssertionError: &lt;conftest.db_class.&lt;locals&gt;.DummyDB object at 0xdeadbeef&gt;
E       assert 0

test_unittest_db.py:13: AssertionError
<span class="o">=========================</span> short <span class="nb">test </span>summary info <span class="o">==========================</span>
FAILED test_unittest_db.py::MyTest::test_method1 - AssertionError: &lt;conft...
FAILED test_unittest_db.py::MyTest::test_method2 - AssertionError: &lt;conft...
<span class="o">============================</span> 2 failed <span class="k">in </span>0.12s <span class="o">=============================</span>
</code></pre></div></div>

<h3 id="using-autouse-fixtures-and-accessing-other-fixtures"><a href="https://docs.pytest.org/en/6.2.x/unittest.html#using-autouse-fixtures-and-accessing-other-fixtures">Using autouse fixtures and accessing other fixtures</a></h3>

<p>Иногда это полезно, когда мы хотим использовать фикстуру автоматически в данном контексте. Например мы можем так получить доступ к фикстурам временного пути и временных директорий</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">pytest</span>
<span class="kn">import</span> <span class="nn">unittest</span>


<span class="k">class</span> <span class="nc">MyTest</span><span class="p">(</span><span class="n">unittest</span><span class="p">.</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="o">@</span><span class="n">pytest</span><span class="p">.</span><span class="n">fixture</span><span class="p">(</span><span class="n">autouse</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">initdir</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tmpdir</span><span class="p">):</span>
        <span class="n">tmpdir</span><span class="p">.</span><span class="n">chdir</span><span class="p">()</span>  <span class="c1"># change to pytest-provided temporary directory
</span>        <span class="n">tmpdir</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="s">"samplefile.ini"</span><span class="p">).</span><span class="n">write</span><span class="p">(</span><span class="s">"# testdata"</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">test_method</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">"samplefile.ini"</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">f</span><span class="p">.</span><span class="n">read</span><span class="p">()</span>
        <span class="k">assert</span> <span class="s">"testdata"</span> <span class="ow">in</span> <span class="n">s</span>
</code></pre></div></div>

<h2 id="running-tests-written-for-nose"><a href="https://docs.pytest.org/en/6.2.x/nose.html">Running tests written for nose</a></h2>

<h2 id="classic-xunit-style-setup"><a href="https://docs.pytest.org/en/6.2.x/xunit_setup.html">classic xunit-style setup</a></h2>

<h2 id="installing-and-using-plugins"><a href="https://docs.pytest.org/en/6.2.x/plugins.html">Installing and Using plugins</a></h2>

<div class="language-shell highlighter-rouge"><div class="highlight"><pre class="highlight"><code>pip <span class="nb">install </span>pytest-NAME
pip uninstall pytest-NAME
</code></pre></div></div>

<ul>
  <li><code class="language-plaintext highlighter-rouge">pytest-django</code>: write tests for django apps, using pytest integration.</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-twisted</code>: write tests for twisted apps, starting a reactor and processing deferreds from test functions.</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-cov</code>: coverage reporting, compatible with distributed testing</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-xdist</code>: to distribute tests to CPUs and remote hosts, to run in boxed mode which allows to survive segmentation faults, to run in looponfailing mode, automatically re-running failing tests on file changes.</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-instafail</code>: to report failures while the test run is happening.</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-bdd</code>: to write tests using behaviour-driven testing.</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-timeout</code>: to timeout tests based on function marks or global definitions.</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-pep8</code>: a –pep8 option to enable PEP8 compliance checking.</li>
  <li><code class="language-plaintext highlighter-rouge">pytest-flakes</code>: check source code with pyflakes.</li>
  <li><code class="language-plaintext highlighter-rouge">oejskit</code>: a plugin to run javascript unittests in live browsers.</li>
</ul>

<p><a href="https://pytest-selenium.readthedocs.io/en/latest/index.html">pytest-selenium</a> - плугин для использования [<a href="selenium" title="Selenium">selenium</a>] в тестаХ</p>

<p>Узнать какие плагины установлены можно так: <code class="language-plaintext highlighter-rouge">pytest --trace-config</code></p>

<h2 id="writing-plugins"><a href="https://docs.pytest.org/en/6.2.x/writing_plugins.html">Writing plugins</a></h2>

<h2 id="writing-hook-functions"><a href="https://docs.pytest.org/en/6.2.x/writing_plugins.html#writing-hook-functions">Writing hook functions</a></h2>

<h2 id="logging"><a href="https://docs.pytest.org/en/6.2.x/logging.html">Logging¶</a></h2>

<h2 id="пример-хорошей-интеграции-в-проект"><a href="https://docs.pytest.org/en/6.2.x/goodpractices.html">Пример хорошей интеграции в проект</a></h2>

<h2 id="flaky-tests-статья">[<a href="flaky-tests" title="Flaky tests">Flaky-tests</a>] <a href="https://docs.pytest.org/en/6.2.x/flaky.html">статья</a></h2>

<h2 id="pytest-import-mechanisms-and-syspathpythonpath"><a href="https://docs.pytest.org/en/6.2.x/pythonpath.html">pytest import mechanisms and sys.path/PYTHONPATH</a></h2>

<h2 id="конфигурирование"><a href="https://docs.pytest.org/en/6.2.x/customize.html">Конфигурирование</a></h2>

<h2 id="примеры"><a href="https://docs.pytest.org/en/6.2.x/example/index.html">Примеры</a></h2>

<p>Остальные главы посвящены разработке пайтеста, лицйензированию, депрекетам и другим вопросам развития проекта.</p>

<p>Смотри [<a href="pytest-parametrizing" title="Pytest parametrizing tests">pytest-parametrizing</a>]</p>

<ul>
  <li>[<a href="unittest" title="Unittest">unittest</a>]</li>
  <li>[<a href="doctest" title="Doctest">doctest</a>]</li>
  <li>[<a href="env-for-test" title="Env variables for tests">env-for-test</a>]</li>
  <li>[<a href="mock" title="Mock-тесты">mock</a>]</li>
</ul>


  </div>
</article>


    </main>

    <!-- <footer role="banner">
    <div class="container">
        <h4><a href="/myknowlegebase/">My knowledge base</a> поддерживается <a href="https://github.com/KonstantinKlepikov">KonstantinKlepikov</a></h4>
        <h4>Блог автора: <a href="https://konstantinklepikov.github.io/">My deep learning</a></h4>
    </div>
</footer> -->


<footer role="banner">
<div class="border-top-thin clearfix mt-2 mt-lg-4">
    <div class="container mx-auto px-2">
      <p class="col-8 sm-width-full left py-2 mb-0"><a href="/myknowlegebase/">My knowledge base</a> проект поддерживается <a class="text-accent" href="https://github.com/KonstantinKlepikov">KonstantinKlepikov</a></p>
      <ul class="list-reset right clearfix sm-width-full py-2 mb-2 mb-lg-0">
        <li class="inline-block mr-1">
          <a href="https://twitter.com/share" class="twitter-share-button" data-hashtags="My knowledge base">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
        </li>
        <li class="inline-block">
          <a class="github-button" href="https://github.com//" data-icon="octicon-star" data-count-href="//stargazers" data-count-api="/repos//#stargazers_count" data-count-aria-label="# stargazers on GitHub" aria-label="Star / on GitHub">Star</a>
        </li>
      </ul>
    </div>
  </div>
</footer>

  </body>

</html>

<script type="text/javascript">
  // Hack: Replace page-link with "Page Title"
  document.querySelectorAll(".markdown-body a[title]").forEach((a) => {
    a.innerText = a.title;
  });
  // Hack: Remove .md extension from wikilinks to get the html in jekyll
  document.querySelectorAll("a").forEach(l => {
    if (l.href.endsWith('.md')) {
      l.href = l.href.substring(0, l.href.length-3)
    }
  })
</script>